{"ast":null,"code":"import _objectSpread from \"/Users/kevin/website/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"/Users/kevin/website/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _createClass from \"/Users/kevin/website/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _classCallCheck from \"/Users/kevin/website/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _toConsumableArray from \"/Users/kevin/website/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nvar __defProp = Object.defineProperty;\nvar __export = function __export(target, all) {\n  for (var name in all) __defProp(target, name, {\n    get: all[name],\n    enumerable: true\n  });\n};\n\n// src/globals.ts\nvar globals_exports = {};\n__export(globals_exports, {\n  assign: function assign() {\n    return _assign;\n  },\n  colors: function colors() {\n    return _colors;\n  },\n  createStringInterpolator: function createStringInterpolator() {\n    return _createStringInterpolator;\n  },\n  skipAnimation: function skipAnimation() {\n    return _skipAnimation;\n  },\n  to: function to() {\n    return _to;\n  },\n  willAdvance: function willAdvance() {\n    return _willAdvance;\n  }\n});\n\n// ../rafz/dist/react-spring_rafz.modern.mjs\nvar updateQueue = makeQueue();\nvar raf = function raf(fn) {\n  return schedule(fn, updateQueue);\n};\nvar writeQueue = makeQueue();\nraf.write = function (fn) {\n  return schedule(fn, writeQueue);\n};\nvar onStartQueue = makeQueue();\nraf.onStart = function (fn) {\n  return schedule(fn, onStartQueue);\n};\nvar onFrameQueue = makeQueue();\nraf.onFrame = function (fn) {\n  return schedule(fn, onFrameQueue);\n};\nvar onFinishQueue = makeQueue();\nraf.onFinish = function (fn) {\n  return schedule(fn, onFinishQueue);\n};\nvar timeouts = [];\nraf.setTimeout = function (handler, ms) {\n  var time = raf.now() + ms;\n  var cancel = function cancel() {\n    var i = timeouts.findIndex(function (t) {\n      return t.cancel == cancel;\n    });\n    if (~i) timeouts.splice(i, 1);\n    pendingCount -= ~i ? 1 : 0;\n  };\n  var timeout = {\n    time: time,\n    handler: handler,\n    cancel: cancel\n  };\n  timeouts.splice(findTimeout(time), 0, timeout);\n  pendingCount += 1;\n  start();\n  return timeout;\n};\nvar findTimeout = function findTimeout(time) {\n  return ~(~timeouts.findIndex(function (t) {\n    return t.time > time;\n  }) || ~timeouts.length);\n};\nraf.cancel = function (fn) {\n  onStartQueue.delete(fn);\n  onFrameQueue.delete(fn);\n  onFinishQueue.delete(fn);\n  updateQueue.delete(fn);\n  writeQueue.delete(fn);\n};\nraf.sync = function (fn) {\n  sync = true;\n  raf.batchedUpdates(fn);\n  sync = false;\n};\nraf.throttle = function (fn) {\n  var lastArgs;\n  function queuedFn() {\n    try {\n      fn.apply(void 0, _toConsumableArray(lastArgs));\n    } finally {\n      lastArgs = null;\n    }\n  }\n  function throttled() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    lastArgs = args;\n    raf.onStart(queuedFn);\n  }\n  throttled.handler = fn;\n  throttled.cancel = function () {\n    onStartQueue.delete(queuedFn);\n    lastArgs = null;\n  };\n  return throttled;\n};\nvar nativeRaf = typeof window != \"undefined\" ? window.requestAnimationFrame :\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nfunction () {};\nraf.use = function (impl) {\n  return nativeRaf = impl;\n};\nraf.now = typeof performance != \"undefined\" ? function () {\n  return performance.now();\n} : Date.now;\nraf.batchedUpdates = function (fn) {\n  return fn();\n};\nraf.catch = console.error;\nraf.frameLoop = \"always\";\nraf.advance = function () {\n  if (raf.frameLoop !== \"demand\") {\n    console.warn(\"Cannot call the manual advancement of rafz whilst frameLoop is not set as demand\");\n  } else {\n    update();\n  }\n};\nvar ts = -1;\nvar pendingCount = 0;\nvar sync = false;\nfunction schedule(fn, queue) {\n  if (sync) {\n    queue.delete(fn);\n    fn(0);\n  } else {\n    queue.add(fn);\n    start();\n  }\n}\nfunction start() {\n  if (ts < 0) {\n    ts = 0;\n    if (raf.frameLoop !== \"demand\") {\n      nativeRaf(loop);\n    }\n  }\n}\nfunction stop() {\n  ts = -1;\n}\nfunction loop() {\n  if (~ts) {\n    nativeRaf(loop);\n    raf.batchedUpdates(update);\n  }\n}\nfunction update() {\n  var prevTs = ts;\n  ts = raf.now();\n  var count = findTimeout(ts);\n  if (count) {\n    eachSafely(timeouts.splice(0, count), function (t) {\n      return t.handler();\n    });\n    pendingCount -= count;\n  }\n  if (!pendingCount) {\n    stop();\n    return;\n  }\n  onStartQueue.flush();\n  updateQueue.flush(prevTs ? Math.min(64, ts - prevTs) : 16.667);\n  onFrameQueue.flush();\n  writeQueue.flush();\n  onFinishQueue.flush();\n}\nfunction makeQueue() {\n  var next = /* @__PURE__ */new Set();\n  var current = next;\n  return {\n    add: function add(fn) {\n      pendingCount += current == next && !next.has(fn) ? 1 : 0;\n      next.add(fn);\n    },\n    delete: function _delete(fn) {\n      pendingCount -= current == next && next.has(fn) ? 1 : 0;\n      return next.delete(fn);\n    },\n    flush: function flush(arg) {\n      if (current.size) {\n        next = /* @__PURE__ */new Set();\n        pendingCount -= current.size;\n        eachSafely(current, function (fn) {\n          return fn(arg) && next.add(fn);\n        });\n        pendingCount += next.size;\n        current = next;\n      }\n    }\n  };\n}\nfunction eachSafely(values, each2) {\n  values.forEach(function (value) {\n    try {\n      each2(value);\n    } catch (e) {\n      raf.catch(e);\n    }\n  });\n}\n\n// src/helpers.ts\nfunction noop() {}\nvar defineHidden = function defineHidden(obj, key, value) {\n  return Object.defineProperty(obj, key, {\n    value: value,\n    writable: true,\n    configurable: true\n  });\n};\nvar is = {\n  arr: Array.isArray,\n  obj: function obj(a) {\n    return !!a && a.constructor.name === \"Object\";\n  },\n  fun: function fun(a) {\n    return typeof a === \"function\";\n  },\n  str: function str(a) {\n    return typeof a === \"string\";\n  },\n  num: function num(a) {\n    return typeof a === \"number\";\n  },\n  und: function und(a) {\n    return a === void 0;\n  }\n};\nfunction isEqual(a, b) {\n  if (is.arr(a)) {\n    if (!is.arr(b) || a.length !== b.length) return false;\n    for (var i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) return false;\n    }\n    return true;\n  }\n  return a === b;\n}\nvar each = function each(obj, fn) {\n  return obj.forEach(fn);\n};\nfunction eachProp(obj, fn, ctx) {\n  if (is.arr(obj)) {\n    for (var i = 0; i < obj.length; i++) {\n      fn.call(ctx, obj[i], \"\".concat(i));\n    }\n    return;\n  }\n  for (var key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      fn.call(ctx, obj[key], key);\n    }\n  }\n}\nvar toArray = function toArray(a) {\n  return is.und(a) ? [] : is.arr(a) ? a : [a];\n};\nfunction flush(queue, iterator) {\n  if (queue.size) {\n    var items = Array.from(queue);\n    queue.clear();\n    each(items, iterator);\n  }\n}\nvar flushCalls = function flushCalls(queue) {\n  for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    args[_key2 - 1] = arguments[_key2];\n  }\n  return flush(queue, function (fn) {\n    return fn.apply(void 0, args);\n  });\n};\nvar isSSR = function isSSR() {\n  return typeof window === \"undefined\" || !window.navigator || /ServerSideRendering|^Deno\\//.test(window.navigator.userAgent);\n};\n\n// src/globals.ts\nvar _createStringInterpolator;\nvar _to;\nvar _colors = null;\nvar _skipAnimation = false;\nvar _willAdvance = noop;\nvar _assign = function _assign(globals) {\n  if (globals.to) _to = globals.to;\n  if (globals.now) raf.now = globals.now;\n  if (globals.colors !== void 0) _colors = globals.colors;\n  if (globals.skipAnimation != null) _skipAnimation = globals.skipAnimation;\n  if (globals.createStringInterpolator) _createStringInterpolator = globals.createStringInterpolator;\n  if (globals.requestAnimationFrame) raf.use(globals.requestAnimationFrame);\n  if (globals.batchedUpdates) raf.batchedUpdates = globals.batchedUpdates;\n  if (globals.willAdvance) _willAdvance = globals.willAdvance;\n  if (globals.frameLoop) raf.frameLoop = globals.frameLoop;\n};\n\n// src/FrameLoop.ts\nvar startQueue = /* @__PURE__ */new Set();\nvar currentFrame = [];\nvar prevFrame = [];\nvar priority = 0;\nvar frameLoop = {\n  get idle() {\n    return !startQueue.size && !currentFrame.length;\n  },\n  /** Advance the given animation on every frame until idle. */start: function start(animation) {\n    if (priority > animation.priority) {\n      startQueue.add(animation);\n      raf.onStart(flushStartQueue);\n    } else {\n      startSafely(animation);\n      raf(advance);\n    }\n  },\n  /** Advance all animations by the given time. */\n  advance: advance,\n  /** Call this when an animation's priority changes. */sort: function sort(animation) {\n    if (priority) {\n      raf.onFrame(function () {\n        return frameLoop.sort(animation);\n      });\n    } else {\n      var prevIndex = currentFrame.indexOf(animation);\n      if (~prevIndex) {\n        currentFrame.splice(prevIndex, 1);\n        startUnsafely(animation);\n      }\n    }\n  },\n  /**\n   * Clear all animations. For testing purposes.\n   *\n   * ☠️ Never call this from within the frameloop.\n   */\n  clear: function clear() {\n    currentFrame = [];\n    startQueue.clear();\n  }\n};\nfunction flushStartQueue() {\n  startQueue.forEach(startSafely);\n  startQueue.clear();\n  raf(advance);\n}\nfunction startSafely(animation) {\n  if (!currentFrame.includes(animation)) startUnsafely(animation);\n}\nfunction startUnsafely(animation) {\n  currentFrame.splice(findIndex(currentFrame, function (other) {\n    return other.priority > animation.priority;\n  }), 0, animation);\n}\nfunction advance(dt) {\n  var nextFrame = prevFrame;\n  for (var i = 0; i < currentFrame.length; i++) {\n    var animation = currentFrame[i];\n    priority = animation.priority;\n    if (!animation.idle) {\n      _willAdvance(animation);\n      animation.advance(dt);\n      if (!animation.idle) {\n        nextFrame.push(animation);\n      }\n    }\n  }\n  priority = 0;\n  prevFrame = currentFrame;\n  prevFrame.length = 0;\n  currentFrame = nextFrame;\n  return currentFrame.length > 0;\n}\nfunction findIndex(arr, test) {\n  var index = arr.findIndex(test);\n  return index < 0 ? arr.length : index;\n}\n\n// src/clamp.ts\nvar clamp = function clamp(min, max, v) {\n  return Math.min(Math.max(v, min), max);\n};\n\n// src/colors.ts\nvar colors2 = {\n  transparent: 0,\n  aliceblue: 4042850303,\n  antiquewhite: 4209760255,\n  aqua: 16777215,\n  aquamarine: 2147472639,\n  azure: 4043309055,\n  beige: 4126530815,\n  bisque: 4293182719,\n  black: 255,\n  blanchedalmond: 4293643775,\n  blue: 65535,\n  blueviolet: 2318131967,\n  brown: 2771004159,\n  burlywood: 3736635391,\n  burntsienna: 3934150143,\n  cadetblue: 1604231423,\n  chartreuse: 2147418367,\n  chocolate: 3530104575,\n  coral: 4286533887,\n  cornflowerblue: 1687547391,\n  cornsilk: 4294499583,\n  crimson: 3692313855,\n  cyan: 16777215,\n  darkblue: 35839,\n  darkcyan: 9145343,\n  darkgoldenrod: 3095792639,\n  darkgray: 2846468607,\n  darkgreen: 6553855,\n  darkgrey: 2846468607,\n  darkkhaki: 3182914559,\n  darkmagenta: 2332068863,\n  darkolivegreen: 1433087999,\n  darkorange: 4287365375,\n  darkorchid: 2570243327,\n  darkred: 2332033279,\n  darksalmon: 3918953215,\n  darkseagreen: 2411499519,\n  darkslateblue: 1211993087,\n  darkslategray: 793726975,\n  darkslategrey: 793726975,\n  darkturquoise: 13554175,\n  darkviolet: 2483082239,\n  deeppink: 4279538687,\n  deepskyblue: 12582911,\n  dimgray: 1768516095,\n  dimgrey: 1768516095,\n  dodgerblue: 512819199,\n  firebrick: 2988581631,\n  floralwhite: 4294635775,\n  forestgreen: 579543807,\n  fuchsia: 4278255615,\n  gainsboro: 3705462015,\n  ghostwhite: 4177068031,\n  gold: 4292280575,\n  goldenrod: 3668254975,\n  gray: 2155905279,\n  green: 8388863,\n  greenyellow: 2919182335,\n  grey: 2155905279,\n  honeydew: 4043305215,\n  hotpink: 4285117695,\n  indianred: 3445382399,\n  indigo: 1258324735,\n  ivory: 4294963455,\n  khaki: 4041641215,\n  lavender: 3873897215,\n  lavenderblush: 4293981695,\n  lawngreen: 2096890111,\n  lemonchiffon: 4294626815,\n  lightblue: 2916673279,\n  lightcoral: 4034953471,\n  lightcyan: 3774873599,\n  lightgoldenrodyellow: 4210742015,\n  lightgray: 3553874943,\n  lightgreen: 2431553791,\n  lightgrey: 3553874943,\n  lightpink: 4290167295,\n  lightsalmon: 4288707327,\n  lightseagreen: 548580095,\n  lightskyblue: 2278488831,\n  lightslategray: 2005441023,\n  lightslategrey: 2005441023,\n  lightsteelblue: 2965692159,\n  lightyellow: 4294959359,\n  lime: 16711935,\n  limegreen: 852308735,\n  linen: 4210091775,\n  magenta: 4278255615,\n  maroon: 2147483903,\n  mediumaquamarine: 1724754687,\n  mediumblue: 52735,\n  mediumorchid: 3126187007,\n  mediumpurple: 2473647103,\n  mediumseagreen: 1018393087,\n  mediumslateblue: 2070474495,\n  mediumspringgreen: 16423679,\n  mediumturquoise: 1221709055,\n  mediumvioletred: 3340076543,\n  midnightblue: 421097727,\n  mintcream: 4127193855,\n  mistyrose: 4293190143,\n  moccasin: 4293178879,\n  navajowhite: 4292783615,\n  navy: 33023,\n  oldlace: 4260751103,\n  olive: 2155872511,\n  olivedrab: 1804477439,\n  orange: 4289003775,\n  orangered: 4282712319,\n  orchid: 3664828159,\n  palegoldenrod: 4008225535,\n  palegreen: 2566625535,\n  paleturquoise: 2951671551,\n  palevioletred: 3681588223,\n  papayawhip: 4293907967,\n  peachpuff: 4292524543,\n  peru: 3448061951,\n  pink: 4290825215,\n  plum: 3718307327,\n  powderblue: 2967529215,\n  purple: 2147516671,\n  rebeccapurple: 1714657791,\n  red: 4278190335,\n  rosybrown: 3163525119,\n  royalblue: 1097458175,\n  saddlebrown: 2336560127,\n  salmon: 4202722047,\n  sandybrown: 4104413439,\n  seagreen: 780883967,\n  seashell: 4294307583,\n  sienna: 2689740287,\n  silver: 3233857791,\n  skyblue: 2278484991,\n  slateblue: 1784335871,\n  slategray: 1887473919,\n  slategrey: 1887473919,\n  snow: 4294638335,\n  springgreen: 16744447,\n  steelblue: 1182971135,\n  tan: 3535047935,\n  teal: 8421631,\n  thistle: 3636451583,\n  tomato: 4284696575,\n  turquoise: 1088475391,\n  violet: 4001558271,\n  wheat: 4125012991,\n  white: 4294967295,\n  whitesmoke: 4126537215,\n  yellow: 4294902015,\n  yellowgreen: 2597139199\n};\n\n// src/colorMatchers.ts\nvar NUMBER = \"[-+]?\\\\d*\\\\.?\\\\d+\";\nvar PERCENTAGE = NUMBER + \"%\";\nfunction call() {\n  for (var _len3 = arguments.length, parts = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n    parts[_key3] = arguments[_key3];\n  }\n  return \"\\\\(\\\\s*(\" + parts.join(\")\\\\s*,\\\\s*(\") + \")\\\\s*\\\\)\";\n}\nvar rgb = new RegExp(\"rgb\" + call(NUMBER, NUMBER, NUMBER));\nvar rgba = new RegExp(\"rgba\" + call(NUMBER, NUMBER, NUMBER, NUMBER));\nvar hsl = new RegExp(\"hsl\" + call(NUMBER, PERCENTAGE, PERCENTAGE));\nvar hsla = new RegExp(\"hsla\" + call(NUMBER, PERCENTAGE, PERCENTAGE, NUMBER));\nvar hex3 = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;\nvar hex4 = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/;\nvar hex6 = /^#([0-9a-fA-F]{6})$/;\nvar hex8 = /^#([0-9a-fA-F]{8})$/;\n\n// src/normalizeColor.ts\nfunction normalizeColor(color) {\n  var match;\n  if (typeof color === \"number\") {\n    return color >>> 0 === color && color >= 0 && color <= 4294967295 ? color : null;\n  }\n  if (match = hex6.exec(color)) return parseInt(match[1] + \"ff\", 16) >>> 0;\n  if (_colors && _colors[color] !== void 0) {\n    return _colors[color];\n  }\n  if (match = rgb.exec(color)) {\n    return (parse255(match[1]) << 24 |\n    // r\n    parse255(match[2]) << 16 |\n    // g\n    parse255(match[3]) << 8 |\n    // b\n    255) >>>\n    // a\n    0;\n  }\n  if (match = rgba.exec(color)) {\n    return (parse255(match[1]) << 24 |\n    // r\n    parse255(match[2]) << 16 |\n    // g\n    parse255(match[3]) << 8 |\n    // b\n    parse1(match[4])) >>>\n    // a\n    0;\n  }\n  if (match = hex3.exec(color)) {\n    return parseInt(match[1] + match[1] +\n    // r\n    match[2] + match[2] +\n    // g\n    match[3] + match[3] +\n    // b\n    \"ff\",\n    // a\n    16) >>> 0;\n  }\n  if (match = hex8.exec(color)) return parseInt(match[1], 16) >>> 0;\n  if (match = hex4.exec(color)) {\n    return parseInt(match[1] + match[1] +\n    // r\n    match[2] + match[2] +\n    // g\n    match[3] + match[3] +\n    // b\n    match[4] + match[4],\n    // a\n    16) >>> 0;\n  }\n  if (match = hsl.exec(color)) {\n    return (hslToRgb(parse360(match[1]),\n    // h\n    parsePercentage(match[2]),\n    // s\n    parsePercentage(match[3])\n    // l\n    ) | 255) >>>\n    // a\n    0;\n  }\n  if (match = hsla.exec(color)) {\n    return (hslToRgb(parse360(match[1]),\n    // h\n    parsePercentage(match[2]),\n    // s\n    parsePercentage(match[3])\n    // l\n    ) | parse1(match[4])) >>>\n    // a\n    0;\n  }\n  return null;\n}\nfunction hue2rgb(p, q, t) {\n  if (t < 0) t += 1;\n  if (t > 1) t -= 1;\n  if (t < 1 / 6) return p + (q - p) * 6 * t;\n  if (t < 1 / 2) return q;\n  if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n  return p;\n}\nfunction hslToRgb(h, s, l) {\n  var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n  var p = 2 * l - q;\n  var r = hue2rgb(p, q, h + 1 / 3);\n  var g = hue2rgb(p, q, h);\n  var b = hue2rgb(p, q, h - 1 / 3);\n  return Math.round(r * 255) << 24 | Math.round(g * 255) << 16 | Math.round(b * 255) << 8;\n}\nfunction parse255(str) {\n  var int = parseInt(str, 10);\n  if (int < 0) return 0;\n  if (int > 255) return 255;\n  return int;\n}\nfunction parse360(str) {\n  var int = parseFloat(str);\n  return (int % 360 + 360) % 360 / 360;\n}\nfunction parse1(str) {\n  var num = parseFloat(str);\n  if (num < 0) return 0;\n  if (num > 1) return 255;\n  return Math.round(num * 255);\n}\nfunction parsePercentage(str) {\n  var int = parseFloat(str);\n  if (int < 0) return 0;\n  if (int > 100) return 1;\n  return int / 100;\n}\n\n// src/colorToRgba.ts\nfunction colorToRgba(input) {\n  var int32Color = normalizeColor(input);\n  if (int32Color === null) return input;\n  int32Color = int32Color || 0;\n  var r = (int32Color & 4278190080) >>> 24;\n  var g = (int32Color & 16711680) >>> 16;\n  var b = (int32Color & 65280) >>> 8;\n  var a = (int32Color & 255) / 255;\n  return \"rgba(\".concat(r, \", \").concat(g, \", \").concat(b, \", \").concat(a, \")\");\n}\n\n// src/createInterpolator.ts\nvar createInterpolator = function createInterpolator(range, output, extrapolate) {\n  if (is.fun(range)) {\n    return range;\n  }\n  if (is.arr(range)) {\n    return createInterpolator({\n      range: range,\n      output: output,\n      extrapolate: extrapolate\n    });\n  }\n  if (is.str(range.output[0])) {\n    return _createStringInterpolator(range);\n  }\n  var config = range;\n  var outputRange = config.output;\n  var inputRange = config.range || [0, 1];\n  var extrapolateLeft = config.extrapolateLeft || config.extrapolate || \"extend\";\n  var extrapolateRight = config.extrapolateRight || config.extrapolate || \"extend\";\n  var easing = config.easing || function (t) {\n    return t;\n  };\n  return function (input) {\n    var range2 = findRange(input, inputRange);\n    return interpolate(input, inputRange[range2], inputRange[range2 + 1], outputRange[range2], outputRange[range2 + 1], easing, extrapolateLeft, extrapolateRight, config.map);\n  };\n};\nfunction interpolate(input, inputMin, inputMax, outputMin, outputMax, easing, extrapolateLeft, extrapolateRight, map) {\n  var result = map ? map(input) : input;\n  if (result < inputMin) {\n    if (extrapolateLeft === \"identity\") return result;else if (extrapolateLeft === \"clamp\") result = inputMin;\n  }\n  if (result > inputMax) {\n    if (extrapolateRight === \"identity\") return result;else if (extrapolateRight === \"clamp\") result = inputMax;\n  }\n  if (outputMin === outputMax) return outputMin;\n  if (inputMin === inputMax) return input <= inputMin ? outputMin : outputMax;\n  if (inputMin === -Infinity) result = -result;else if (inputMax === Infinity) result = result - inputMin;else result = (result - inputMin) / (inputMax - inputMin);\n  result = easing(result);\n  if (outputMin === -Infinity) result = -result;else if (outputMax === Infinity) result = result + outputMin;else result = result * (outputMax - outputMin) + outputMin;\n  return result;\n}\nfunction findRange(input, inputRange) {\n  for (var i = 1; i < inputRange.length - 1; ++i) if (inputRange[i] >= input) break;\n  return i - 1;\n}\n\n// src/easings.ts\nvar steps = function steps(steps2) {\n  var direction = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"end\";\n  return function (progress2) {\n    progress2 = direction === \"end\" ? Math.min(progress2, 0.999) : Math.max(progress2, 1e-3);\n    var expanded = progress2 * steps2;\n    var rounded = direction === \"end\" ? Math.floor(expanded) : Math.ceil(expanded);\n    return clamp(0, 1, rounded / steps2);\n  };\n};\nvar c1 = 1.70158;\nvar c2 = c1 * 1.525;\nvar c3 = c1 + 1;\nvar c4 = 2 * Math.PI / 3;\nvar c5 = 2 * Math.PI / 4.5;\nvar bounceOut = function bounceOut(x) {\n  var n1 = 7.5625;\n  var d1 = 2.75;\n  if (x < 1 / d1) {\n    return n1 * x * x;\n  } else if (x < 2 / d1) {\n    return n1 * (x -= 1.5 / d1) * x + 0.75;\n  } else if (x < 2.5 / d1) {\n    return n1 * (x -= 2.25 / d1) * x + 0.9375;\n  } else {\n    return n1 * (x -= 2.625 / d1) * x + 0.984375;\n  }\n};\nvar easings = {\n  linear: function linear(x) {\n    return x;\n  },\n  easeInQuad: function easeInQuad(x) {\n    return x * x;\n  },\n  easeOutQuad: function easeOutQuad(x) {\n    return 1 - (1 - x) * (1 - x);\n  },\n  easeInOutQuad: function easeInOutQuad(x) {\n    return x < 0.5 ? 2 * x * x : 1 - Math.pow(-2 * x + 2, 2) / 2;\n  },\n  easeInCubic: function easeInCubic(x) {\n    return x * x * x;\n  },\n  easeOutCubic: function easeOutCubic(x) {\n    return 1 - Math.pow(1 - x, 3);\n  },\n  easeInOutCubic: function easeInOutCubic(x) {\n    return x < 0.5 ? 4 * x * x * x : 1 - Math.pow(-2 * x + 2, 3) / 2;\n  },\n  easeInQuart: function easeInQuart(x) {\n    return x * x * x * x;\n  },\n  easeOutQuart: function easeOutQuart(x) {\n    return 1 - Math.pow(1 - x, 4);\n  },\n  easeInOutQuart: function easeInOutQuart(x) {\n    return x < 0.5 ? 8 * x * x * x * x : 1 - Math.pow(-2 * x + 2, 4) / 2;\n  },\n  easeInQuint: function easeInQuint(x) {\n    return x * x * x * x * x;\n  },\n  easeOutQuint: function easeOutQuint(x) {\n    return 1 - Math.pow(1 - x, 5);\n  },\n  easeInOutQuint: function easeInOutQuint(x) {\n    return x < 0.5 ? 16 * x * x * x * x * x : 1 - Math.pow(-2 * x + 2, 5) / 2;\n  },\n  easeInSine: function easeInSine(x) {\n    return 1 - Math.cos(x * Math.PI / 2);\n  },\n  easeOutSine: function easeOutSine(x) {\n    return Math.sin(x * Math.PI / 2);\n  },\n  easeInOutSine: function easeInOutSine(x) {\n    return -(Math.cos(Math.PI * x) - 1) / 2;\n  },\n  easeInExpo: function easeInExpo(x) {\n    return x === 0 ? 0 : Math.pow(2, 10 * x - 10);\n  },\n  easeOutExpo: function easeOutExpo(x) {\n    return x === 1 ? 1 : 1 - Math.pow(2, -10 * x);\n  },\n  easeInOutExpo: function easeInOutExpo(x) {\n    return x === 0 ? 0 : x === 1 ? 1 : x < 0.5 ? Math.pow(2, 20 * x - 10) / 2 : (2 - Math.pow(2, -20 * x + 10)) / 2;\n  },\n  easeInCirc: function easeInCirc(x) {\n    return 1 - Math.sqrt(1 - Math.pow(x, 2));\n  },\n  easeOutCirc: function easeOutCirc(x) {\n    return Math.sqrt(1 - Math.pow(x - 1, 2));\n  },\n  easeInOutCirc: function easeInOutCirc(x) {\n    return x < 0.5 ? (1 - Math.sqrt(1 - Math.pow(2 * x, 2))) / 2 : (Math.sqrt(1 - Math.pow(-2 * x + 2, 2)) + 1) / 2;\n  },\n  easeInBack: function easeInBack(x) {\n    return c3 * x * x * x - c1 * x * x;\n  },\n  easeOutBack: function easeOutBack(x) {\n    return 1 + c3 * Math.pow(x - 1, 3) + c1 * Math.pow(x - 1, 2);\n  },\n  easeInOutBack: function easeInOutBack(x) {\n    return x < 0.5 ? Math.pow(2 * x, 2) * ((c2 + 1) * 2 * x - c2) / 2 : (Math.pow(2 * x - 2, 2) * ((c2 + 1) * (x * 2 - 2) + c2) + 2) / 2;\n  },\n  easeInElastic: function easeInElastic(x) {\n    return x === 0 ? 0 : x === 1 ? 1 : -Math.pow(2, 10 * x - 10) * Math.sin((x * 10 - 10.75) * c4);\n  },\n  easeOutElastic: function easeOutElastic(x) {\n    return x === 0 ? 0 : x === 1 ? 1 : Math.pow(2, -10 * x) * Math.sin((x * 10 - 0.75) * c4) + 1;\n  },\n  easeInOutElastic: function easeInOutElastic(x) {\n    return x === 0 ? 0 : x === 1 ? 1 : x < 0.5 ? -(Math.pow(2, 20 * x - 10) * Math.sin((20 * x - 11.125) * c5)) / 2 : Math.pow(2, -20 * x + 10) * Math.sin((20 * x - 11.125) * c5) / 2 + 1;\n  },\n  easeInBounce: function easeInBounce(x) {\n    return 1 - bounceOut(1 - x);\n  },\n  easeOutBounce: bounceOut,\n  easeInOutBounce: function easeInOutBounce(x) {\n    return x < 0.5 ? (1 - bounceOut(1 - 2 * x)) / 2 : (1 + bounceOut(2 * x - 1)) / 2;\n  },\n  steps: steps\n};\n\n// src/fluids.ts\nvar $get = Symbol.for(\"FluidValue.get\");\nvar $observers = Symbol.for(\"FluidValue.observers\");\nvar hasFluidValue = function hasFluidValue(arg) {\n  return Boolean(arg && arg[$get]);\n};\nvar getFluidValue = function getFluidValue(arg) {\n  return arg && arg[$get] ? arg[$get]() : arg;\n};\nvar getFluidObservers = function getFluidObservers(target) {\n  return target[$observers] || null;\n};\nfunction callFluidObserver(observer2, event) {\n  if (observer2.eventObserved) {\n    observer2.eventObserved(event);\n  } else {\n    observer2(event);\n  }\n}\nfunction callFluidObservers(target, event) {\n  var observers = target[$observers];\n  if (observers) {\n    observers.forEach(function (observer2) {\n      callFluidObserver(observer2, event);\n    });\n  }\n}\nvar FluidValue = /*#__PURE__*/_createClass(function FluidValue(get) {\n  _classCallCheck(this, FluidValue);\n  if (!get && !(get = this.get)) {\n    throw Error(\"Unknown getter\");\n  }\n  setFluidGetter(this, get);\n});\n$get, $observers;\nvar setFluidGetter = function setFluidGetter(target, get) {\n  return setHidden(target, $get, get);\n};\nfunction addFluidObserver(target, observer2) {\n  if (target[$get]) {\n    var observers = target[$observers];\n    if (!observers) {\n      setHidden(target, $observers, observers = /* @__PURE__ */new Set());\n    }\n    if (!observers.has(observer2)) {\n      observers.add(observer2);\n      if (target.observerAdded) {\n        target.observerAdded(observers.size, observer2);\n      }\n    }\n  }\n  return observer2;\n}\nfunction removeFluidObserver(target, observer2) {\n  var observers = target[$observers];\n  if (observers && observers.has(observer2)) {\n    var count = observers.size - 1;\n    if (count) {\n      observers.delete(observer2);\n    } else {\n      target[$observers] = null;\n    }\n    if (target.observerRemoved) {\n      target.observerRemoved(count, observer2);\n    }\n  }\n}\nvar setHidden = function setHidden(target, key, value) {\n  return Object.defineProperty(target, key, {\n    value: value,\n    writable: true,\n    configurable: true\n  });\n};\n\n// src/regexs.ts\nvar numberRegex = /[+\\-]?(?:0|[1-9]\\d*)(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g;\nvar colorRegex = /(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))/gi;\nvar unitRegex = new RegExp(\"(\".concat(numberRegex.source, \")(%|[a-z]+)\"), \"i\");\nvar rgbaRegex = /rgba\\(([0-9\\.-]+), ([0-9\\.-]+), ([0-9\\.-]+), ([0-9\\.-]+)\\)/gi;\nvar cssVariableRegex = /var\\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\\)/;\n\n// src/variableToRgba.ts\nvar variableToRgba = function variableToRgba(input) {\n  var _parseCSSVariable = parseCSSVariable(input),\n    _parseCSSVariable2 = _slicedToArray(_parseCSSVariable, 2),\n    token = _parseCSSVariable2[0],\n    fallback = _parseCSSVariable2[1];\n  if (!token || isSSR()) {\n    return input;\n  }\n  var value = window.getComputedStyle(document.documentElement).getPropertyValue(token);\n  if (value) {\n    return value.trim();\n  } else if (fallback && fallback.startsWith(\"--\")) {\n    var value2 = window.getComputedStyle(document.documentElement).getPropertyValue(fallback);\n    if (value2) {\n      return value2;\n    } else {\n      return input;\n    }\n  } else if (fallback && cssVariableRegex.test(fallback)) {\n    return variableToRgba(fallback);\n  } else if (fallback) {\n    return fallback;\n  }\n  return input;\n};\nvar parseCSSVariable = function parseCSSVariable(current) {\n  var match = cssVariableRegex.exec(current);\n  if (!match) return [,];\n  var _match = _slicedToArray(match, 3),\n    token = _match[1],\n    fallback = _match[2];\n  return [token, fallback];\n};\n\n// src/stringInterpolation.ts\nvar namedColorRegex;\nvar rgbaRound = function rgbaRound(_, p1, p2, p3, p4) {\n  return \"rgba(\".concat(Math.round(p1), \", \").concat(Math.round(p2), \", \").concat(Math.round(p3), \", \").concat(p4, \")\");\n};\nvar createStringInterpolator2 = function createStringInterpolator2(config) {\n  if (!namedColorRegex) namedColorRegex = _colors ?\n  // match color names, ignore partial matches\n  new RegExp(\"(\".concat(Object.keys(_colors).join(\"|\"), \")(?!\\\\w)\"), \"g\") :\n  // never match\n  /^\\b$/;\n  var output = config.output.map(function (value) {\n    return getFluidValue(value).replace(cssVariableRegex, variableToRgba).replace(colorRegex, colorToRgba).replace(namedColorRegex, colorToRgba);\n  });\n  var keyframes = output.map(function (value) {\n    return value.match(numberRegex).map(Number);\n  });\n  var outputRanges = keyframes[0].map(function (_, i) {\n    return keyframes.map(function (values) {\n      if (!(i in values)) {\n        throw Error('The arity of each \"output\" value must be equal');\n      }\n      return values[i];\n    });\n  });\n  var interpolators = outputRanges.map(function (output2) {\n    return createInterpolator(_objectSpread(_objectSpread({}, config), {}, {\n      output: output2\n    }));\n  });\n  return function (input) {\n    var _output$find;\n    var missingUnit = !unitRegex.test(output[0]) && ((_output$find = output.find(function (value) {\n      return unitRegex.test(value);\n    })) === null || _output$find === void 0 ? void 0 : _output$find.replace(numberRegex, \"\"));\n    var i = 0;\n    return output[0].replace(numberRegex, function () {\n      return \"\".concat(interpolators[i++](input)).concat(missingUnit || \"\");\n    }).replace(rgbaRegex, rgbaRound);\n  };\n};\n\n// src/deprecations.ts\nvar prefix = \"react-spring: \";\nvar once = function once(fn) {\n  var func = fn;\n  var called = false;\n  if (typeof func != \"function\") {\n    throw new TypeError(\"\".concat(prefix, \"once requires a function parameter\"));\n  }\n  return function () {\n    if (!called) {\n      func.apply(void 0, arguments);\n      called = true;\n    }\n  };\n};\nvar warnInterpolate = once(console.warn);\nfunction deprecateInterpolate() {\n  warnInterpolate(\"\".concat(prefix, \"The \\\"interpolate\\\" function is deprecated in v9 (use \\\"to\\\" instead)\"));\n}\nvar warnDirectCall = once(console.warn);\nfunction deprecateDirectCall() {\n  warnDirectCall(\"\".concat(prefix, \"Directly calling start instead of using the api object is deprecated in v9 (use \\\".start\\\" instead), this will be removed in later 0.X.0 versions\"));\n}\n\n// src/isAnimatedString.ts\nfunction isAnimatedString(value) {\n  return is.str(value) && (value[0] == \"#\" || /\\d/.test(value) ||\n  // Do not identify a CSS variable as an AnimatedString if its SSR\n  !isSSR() && cssVariableRegex.test(value) || value in (_colors || {}));\n}\n\n// src/dom-events/resize/resizeElement.ts\nvar observer;\nvar resizeHandlers = /* @__PURE__ */new WeakMap();\nvar handleObservation = function handleObservation(entries) {\n  return entries.forEach(function (_ref) {\n    var _resizeHandlers$get;\n    var target = _ref.target,\n      contentRect = _ref.contentRect;\n    return (_resizeHandlers$get = resizeHandlers.get(target)) === null || _resizeHandlers$get === void 0 ? void 0 : _resizeHandlers$get.forEach(function (handler) {\n      return handler(contentRect);\n    });\n  });\n};\nfunction resizeElement(handler, target) {\n  if (!observer) {\n    if (typeof ResizeObserver !== \"undefined\") {\n      observer = new ResizeObserver(handleObservation);\n    }\n  }\n  var elementHandlers = resizeHandlers.get(target);\n  if (!elementHandlers) {\n    elementHandlers = /* @__PURE__ */new Set();\n    resizeHandlers.set(target, elementHandlers);\n  }\n  elementHandlers.add(handler);\n  if (observer) {\n    observer.observe(target);\n  }\n  return function () {\n    var elementHandlers2 = resizeHandlers.get(target);\n    if (!elementHandlers2) return;\n    elementHandlers2.delete(handler);\n    if (!elementHandlers2.size && observer) {\n      observer.unobserve(target);\n    }\n  };\n}\n\n// src/dom-events/resize/resizeWindow.ts\nvar listeners = /* @__PURE__ */new Set();\nvar cleanupWindowResizeHandler;\nvar createResizeHandler = function createResizeHandler() {\n  var handleResize = function handleResize() {\n    listeners.forEach(function (callback) {\n      return callback({\n        width: window.innerWidth,\n        height: window.innerHeight\n      });\n    });\n  };\n  window.addEventListener(\"resize\", handleResize);\n  return function () {\n    window.removeEventListener(\"resize\", handleResize);\n  };\n};\nvar resizeWindow = function resizeWindow(callback) {\n  listeners.add(callback);\n  if (!cleanupWindowResizeHandler) {\n    cleanupWindowResizeHandler = createResizeHandler();\n  }\n  return function () {\n    listeners.delete(callback);\n    if (!listeners.size && cleanupWindowResizeHandler) {\n      cleanupWindowResizeHandler();\n      cleanupWindowResizeHandler = void 0;\n    }\n  };\n};\n\n// src/dom-events/resize/index.ts\nvar onResize = function onResize(callback) {\n  var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n    _ref2$container = _ref2.container,\n    container = _ref2$container === void 0 ? document.documentElement : _ref2$container;\n  if (container === document.documentElement) {\n    return resizeWindow(callback);\n  } else {\n    return resizeElement(callback, container);\n  }\n};\n\n// src/progress.ts\nvar progress = function progress(min, max, value) {\n  return max - min === 0 ? 1 : (value - min) / (max - min);\n};\n\n// src/dom-events/scroll/ScrollHandler.ts\nvar SCROLL_KEYS = {\n  x: {\n    length: \"Width\",\n    position: \"Left\"\n  },\n  y: {\n    length: \"Height\",\n    position: \"Top\"\n  }\n};\nvar ScrollHandler = /*#__PURE__*/_createClass(function ScrollHandler(callback, container) {\n  var _this = this;\n  _classCallCheck(this, ScrollHandler);\n  this.createAxis = function () {\n    return {\n      current: 0,\n      progress: 0,\n      scrollLength: 0\n    };\n  };\n  this.updateAxis = function (axisName) {\n    var axis = _this.info[axisName];\n    var _SCROLL_KEYS$axisName = SCROLL_KEYS[axisName],\n      length = _SCROLL_KEYS$axisName.length,\n      position = _SCROLL_KEYS$axisName.position;\n    axis.current = _this.container[\"scroll\".concat(position)];\n    axis.scrollLength = _this.container[\"scroll\" + length] - _this.container[\"client\" + length];\n    axis.progress = progress(0, axis.scrollLength, axis.current);\n  };\n  this.update = function () {\n    _this.updateAxis(\"x\");\n    _this.updateAxis(\"y\");\n  };\n  this.sendEvent = function () {\n    _this.callback(_this.info);\n  };\n  this.advance = function () {\n    _this.update();\n    _this.sendEvent();\n  };\n  this.callback = callback;\n  this.container = container;\n  this.info = {\n    time: 0,\n    x: this.createAxis(),\n    y: this.createAxis()\n  };\n});\n\n// src/dom-events/scroll/index.ts\nvar scrollListeners = /* @__PURE__ */new WeakMap();\nvar resizeListeners = /* @__PURE__ */new WeakMap();\nvar onScrollHandlers = /* @__PURE__ */new WeakMap();\nvar getTarget = function getTarget(container) {\n  return container === document.documentElement ? window : container;\n};\nvar onScroll = function onScroll(callback) {\n  var _ref3 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n    _ref3$container = _ref3.container,\n    container = _ref3$container === void 0 ? document.documentElement : _ref3$container;\n  var containerHandlers = onScrollHandlers.get(container);\n  if (!containerHandlers) {\n    containerHandlers = /* @__PURE__ */new Set();\n    onScrollHandlers.set(container, containerHandlers);\n  }\n  var containerHandler = new ScrollHandler(callback, container);\n  containerHandlers.add(containerHandler);\n  if (!scrollListeners.has(container)) {\n    var listener = function listener() {\n      var _containerHandlers;\n      (_containerHandlers = containerHandlers) === null || _containerHandlers === void 0 ? void 0 : _containerHandlers.forEach(function (handler) {\n        return handler.advance();\n      });\n      return true;\n    };\n    scrollListeners.set(container, listener);\n    var target = getTarget(container);\n    window.addEventListener(\"resize\", listener, {\n      passive: true\n    });\n    if (container !== document.documentElement) {\n      resizeListeners.set(container, onResize(listener, {\n        container: container\n      }));\n    }\n    target.addEventListener(\"scroll\", listener, {\n      passive: true\n    });\n  }\n  var animateScroll = scrollListeners.get(container);\n  raf(animateScroll);\n  return function () {\n    raf.cancel(animateScroll);\n    var containerHandlers2 = onScrollHandlers.get(container);\n    if (!containerHandlers2) return;\n    containerHandlers2.delete(containerHandler);\n    if (containerHandlers2.size) return;\n    var listener = scrollListeners.get(container);\n    scrollListeners.delete(container);\n    if (listener) {\n      var _resizeListeners$get;\n      getTarget(container).removeEventListener(\"scroll\", listener);\n      window.removeEventListener(\"resize\", listener);\n      (_resizeListeners$get = resizeListeners.get(container)) === null || _resizeListeners$get === void 0 ? void 0 : _resizeListeners$get();\n    }\n  };\n};\n\n// src/hooks/useConstant.ts\nimport { useRef } from \"react\";\nfunction useConstant(init) {\n  var ref = useRef(null);\n  if (ref.current === null) {\n    ref.current = init();\n  }\n  return ref.current;\n}\n\n// src/hooks/useForceUpdate.ts\nimport { useState } from \"react\";\n\n// src/hooks/useIsMounted.ts\nimport { useRef as useRef2 } from \"react\";\n\n// src/hooks/useIsomorphicLayoutEffect.ts\nimport { useEffect, useLayoutEffect } from \"react\";\nvar useIsomorphicLayoutEffect = isSSR() ? useEffect : useLayoutEffect;\n\n// src/hooks/useIsMounted.ts\nvar useIsMounted = function useIsMounted() {\n  var isMounted = useRef2(false);\n  useIsomorphicLayoutEffect(function () {\n    isMounted.current = true;\n    return function () {\n      isMounted.current = false;\n    };\n  }, []);\n  return isMounted;\n};\n\n// src/hooks/useForceUpdate.ts\nfunction useForceUpdate() {\n  var update2 = useState()[1];\n  var isMounted = useIsMounted();\n  return function () {\n    if (isMounted.current) {\n      update2(Math.random());\n    }\n  };\n}\n\n// src/hooks/useMemoOne.ts\nimport { useEffect as useEffect2, useRef as useRef3, useState as useState2 } from \"react\";\nfunction useMemoOne(getResult, inputs) {\n  var _useState = useState2(function () {\n      return {\n        inputs: inputs,\n        result: getResult()\n      };\n    }),\n    _useState2 = _slicedToArray(_useState, 1),\n    initial = _useState2[0];\n  var committed = useRef3();\n  var prevCache = committed.current;\n  var cache = prevCache;\n  if (cache) {\n    var useCache = Boolean(inputs && cache.inputs && areInputsEqual(inputs, cache.inputs));\n    if (!useCache) {\n      cache = {\n        inputs: inputs,\n        result: getResult()\n      };\n    }\n  } else {\n    cache = initial;\n  }\n  useEffect2(function () {\n    committed.current = cache;\n    if (prevCache == initial) {\n      initial.inputs = initial.result = void 0;\n    }\n  }, [cache]);\n  return cache.result;\n}\nfunction areInputsEqual(next, prev) {\n  if (next.length !== prev.length) {\n    return false;\n  }\n  for (var i = 0; i < next.length; i++) {\n    if (next[i] !== prev[i]) {\n      return false;\n    }\n  }\n  return true;\n}\n\n// src/hooks/useOnce.ts\nimport { useEffect as useEffect3 } from \"react\";\nvar useOnce = function useOnce(effect) {\n  return useEffect3(effect, emptyDeps);\n};\nvar emptyDeps = [];\n\n// src/hooks/usePrev.ts\nimport { useEffect as useEffect4, useRef as useRef4 } from \"react\";\nfunction usePrev(value) {\n  var prevRef = useRef4();\n  useEffect4(function () {\n    prevRef.current = value;\n  });\n  return prevRef.current;\n}\n\n// src/hooks/useReducedMotion.ts\nimport { useState as useState3 } from \"react\";\nvar useReducedMotion = function useReducedMotion() {\n  var _useState3 = useState3(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    reducedMotion = _useState4[0],\n    setReducedMotion = _useState4[1];\n  useIsomorphicLayoutEffect(function () {\n    var mql = window.matchMedia(\"(prefers-reduced-motion)\");\n    var handleMediaChange = function handleMediaChange(e) {\n      setReducedMotion(e.matches);\n      _assign({\n        skipAnimation: e.matches\n      });\n    };\n    handleMediaChange(mql);\n    mql.addEventListener(\"change\", handleMediaChange);\n    return function () {\n      mql.removeEventListener(\"change\", handleMediaChange);\n    };\n  }, []);\n  return reducedMotion;\n};\nexport { FluidValue, globals_exports as Globals, addFluidObserver, callFluidObserver, callFluidObservers, clamp, colorToRgba, colors2 as colors, createInterpolator, createStringInterpolator2 as createStringInterpolator, defineHidden, deprecateDirectCall, deprecateInterpolate, each, eachProp, easings, flush, flushCalls, frameLoop, getFluidObservers, getFluidValue, hasFluidValue, hex3, hex4, hex6, hex8, hsl, hsla, is, isAnimatedString, isEqual, isSSR, noop, onResize, onScroll, once, prefix, raf, removeFluidObserver, rgb, rgba, setFluidGetter, toArray, useConstant, useForceUpdate, useIsomorphicLayoutEffect, useMemoOne, useOnce, usePrev, useReducedMotion };","map":{"version":3,"names":["globals_exports","__export","assign","colors","createStringInterpolator","skipAnimation","to","willAdvance","updateQueue","makeQueue","raf","fn","schedule","writeQueue","write","onStartQueue","onStart","onFrameQueue","onFrame","onFinishQueue","onFinish","timeouts","setTimeout","handler","ms","time","now","cancel","i","findIndex","t","splice","pendingCount","timeout","findTimeout","start","length","delete","sync","batchedUpdates","throttle","lastArgs","queuedFn","apply","_toConsumableArray","throttled","_len","arguments","args","Array","_key","nativeRaf","window","requestAnimationFrame","use","impl","performance","Date","catch","console","error","frameLoop","advance","warn","update","ts","queue","add","loop","stop","prevTs","count","eachSafely","flush","Math","min","next","Set","current","has","_delete","arg","size","values","each2","forEach","value","e","noop","defineHidden","obj","key","Object","defineProperty","writable","configurable","is","arr","isArray","a","constructor","name","fun","str","num","und","isEqual","b","each","eachProp","ctx","call","concat","hasOwnProperty","toArray","iterator","items","from","clear","flushCalls","_len2","_key2","isSSR","navigator","test","userAgent","globals","startQueue","currentFrame","prevFrame","priority","idle","animation","flushStartQueue","startSafely","sort","prevIndex","indexOf","startUnsafely","includes","other","dt","nextFrame","push","index","clamp","max","v","colors2","transparent","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","burntsienna","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","NUMBER","PERCENTAGE","_len3","parts","_key3","join","rgb","RegExp","rgba","hsl","hsla","hex3","hex4","hex6","hex8","normalizeColor","color","match","exec","parseInt","parse255","parse1","hslToRgb","parse360","parsePercentage","hue2rgb","p","q","h","s","l","r","g","round","int","parseFloat","colorToRgba","input","int32Color","createInterpolator","range","output","extrapolate","config","outputRange","inputRange","extrapolateLeft","extrapolateRight","easing","range2","findRange","interpolate","map","inputMin","inputMax","outputMin","outputMax","result","Infinity","steps","steps2","direction","undefined","progress2","expanded","rounded","floor","ceil","c1","c2","c3","c4","PI","c5","bounceOut","x","n1","d1","easings","linear","easeInQuad","easeOutQuad","easeInOutQuad","pow","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","cos","easeOutSine","sin","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","sqrt","easeOutCirc","easeInOutCirc","easeInBack","easeOutBack","easeInOutBack","easeInElastic","easeOutElastic","easeInOutElastic","easeInBounce","easeOutBounce","easeInOutBounce","$get","Symbol","for","$observers","hasFluidValue","Boolean","getFluidValue","getFluidObservers","target","callFluidObserver","observer2","event","eventObserved","callFluidObservers","observers","FluidValue","_createClass","get","_classCallCheck","Error","setFluidGetter","setHidden","addFluidObserver","observerAdded","removeFluidObserver","observerRemoved","numberRegex","colorRegex","unitRegex","source","rgbaRegex","cssVariableRegex","variableToRgba","_parseCSSVariable","parseCSSVariable","_parseCSSVariable2","_slicedToArray","token","fallback","getComputedStyle","document","documentElement","getPropertyValue","trim","startsWith","value2","_match","namedColorRegex","rgbaRound","_","p1","p2","p3","p4","createStringInterpolator2","keys","replace","keyframes","Number","outputRanges","interpolators","output2","_objectSpread","_output$find","missingUnit","find","prefix","once","func","called","TypeError","warnInterpolate","deprecateInterpolate","warnDirectCall","deprecateDirectCall","isAnimatedString","observer","resizeHandlers","WeakMap","handleObservation","entries","_ref","_resizeHandlers$get","contentRect","resizeElement","ResizeObserver","elementHandlers","set","observe","elementHandlers2","unobserve","listeners","cleanupWindowResizeHandler","createResizeHandler","handleResize","callback","width","innerWidth","height","innerHeight","addEventListener","removeEventListener","resizeWindow","onResize","_ref2","_ref2$container","container","progress","SCROLL_KEYS","position","y","ScrollHandler","_this","createAxis","scrollLength","updateAxis","axisName","axis","info","_SCROLL_KEYS$axisName","sendEvent","scrollListeners","resizeListeners","onScrollHandlers","getTarget","onScroll","_ref3","_ref3$container","containerHandlers","containerHandler","listener","_containerHandlers","passive","animateScroll","containerHandlers2","_resizeListeners$get","useRef","useConstant","init","ref","useState","useRef2","useEffect","useLayoutEffect","useIsomorphicLayoutEffect","useIsMounted","isMounted","useForceUpdate","update2","random","useEffect2","useRef3","useState2","useMemoOne","getResult","inputs","_useState","_useState2","initial","committed","prevCache","cache","useCache","areInputsEqual","prev","useEffect3","useOnce","effect","emptyDeps","useEffect4","useRef4","usePrev","prevRef","useState3","useReducedMotion","_useState3","_useState4","reducedMotion","setReducedMotion","mql","matchMedia","handleMediaChange","matches"],"sources":["/Users/kevin/website/node_modules/@react-spring/shared/src/globals.ts","/Users/kevin/website/node_modules/@react-spring/rafz/src/index.ts","/Users/kevin/website/node_modules/@react-spring/shared/src/helpers.ts","/Users/kevin/website/node_modules/@react-spring/shared/src/FrameLoop.ts","/Users/kevin/website/node_modules/@react-spring/shared/src/clamp.ts","/Users/kevin/website/node_modules/@react-spring/shared/src/colors.ts","/Users/kevin/website/node_modules/@react-spring/shared/src/colorMatchers.ts","/Users/kevin/website/node_modules/@react-spring/shared/src/normalizeColor.ts","/Users/kevin/website/node_modules/@react-spring/shared/src/colorToRgba.ts","/Users/kevin/website/node_modules/@react-spring/shared/src/createInterpolator.ts","/Users/kevin/website/node_modules/@react-spring/shared/src/easings.ts","/Users/kevin/website/node_modules/@react-spring/shared/src/fluids.ts","/Users/kevin/website/node_modules/@react-spring/shared/src/regexs.ts","/Users/kevin/website/node_modules/@react-spring/shared/src/variableToRgba.ts","/Users/kevin/website/node_modules/@react-spring/shared/src/stringInterpolation.ts","/Users/kevin/website/node_modules/@react-spring/shared/src/deprecations.ts","/Users/kevin/website/node_modules/@react-spring/shared/src/isAnimatedString.ts","/Users/kevin/website/node_modules/@react-spring/shared/src/dom-events/resize/resizeElement.ts","/Users/kevin/website/node_modules/@react-spring/shared/src/dom-events/resize/resizeWindow.ts","/Users/kevin/website/node_modules/@react-spring/shared/src/dom-events/resize/index.ts","/Users/kevin/website/node_modules/@react-spring/shared/src/progress.ts","/Users/kevin/website/node_modules/@react-spring/shared/src/dom-events/scroll/ScrollHandler.ts","/Users/kevin/website/node_modules/@react-spring/shared/src/dom-events/scroll/index.ts","/Users/kevin/website/node_modules/@react-spring/shared/src/hooks/useConstant.ts","/Users/kevin/website/node_modules/@react-spring/shared/src/hooks/useForceUpdate.ts","/Users/kevin/website/node_modules/@react-spring/shared/src/hooks/useIsMounted.ts","/Users/kevin/website/node_modules/@react-spring/shared/src/hooks/useIsomorphicLayoutEffect.ts","/Users/kevin/website/node_modules/@react-spring/shared/src/hooks/useMemoOne.ts","/Users/kevin/website/node_modules/@react-spring/shared/src/hooks/useOnce.ts","/Users/kevin/website/node_modules/@react-spring/shared/src/hooks/usePrev.ts","/Users/kevin/website/node_modules/@react-spring/shared/src/hooks/useReducedMotion.ts"],"sourcesContent":["import { raf, Rafz } from '@react-spring/rafz'\nimport {\n  OneOrMore,\n  InterpolatorConfig,\n  InterpolatorArgs,\n} from '@react-spring/types'\n\nimport { FluidValue } from './fluids'\nimport type { OpaqueAnimation } from './FrameLoop'\nimport { noop } from './helpers'\n\n//\n// Required\n//\n\nexport let createStringInterpolator: (\n  config: InterpolatorConfig<string>\n) => (input: number) => string\n\n//\n// Optional\n//\n\nexport let to: <Input, Output>(\n  source: OneOrMore<FluidValue>,\n  args: InterpolatorArgs<Input, Output>\n) => FluidValue<Output>\n\nexport let colors = null as { [key: string]: number } | null\n\nexport let skipAnimation = false as boolean\n\nexport let willAdvance: (animation: OpaqueAnimation) => void = noop\n\n//\n// Configuration\n//\n\nexport interface AnimatedGlobals {\n  /** Returns a new `Interpolation` object */\n  to?: typeof to\n  /** Used to measure frame length. Read more [here](https://developer.mozilla.org/en-US/docs/Web/API/Performance/now) */\n  now?: typeof raf.now\n  /** Provide custom color names for interpolation */\n  colors?: typeof colors\n  /** Make all animations instant and skip the frameloop entirely */\n  skipAnimation?: typeof skipAnimation\n  /** Provide custom logic for string interpolation */\n  createStringInterpolator?: typeof createStringInterpolator\n  /** Schedule a function to run on the next frame */\n  requestAnimationFrame?: (cb: () => void) => void\n  /** Event props are called with `batchedUpdates` to reduce extraneous renders */\n  batchedUpdates?: typeof raf.batchedUpdates\n  /** @internal Exposed for testing purposes */\n  willAdvance?: typeof willAdvance\n  /** sets the global frameLoop setting for the global raf instance */\n  frameLoop?: Rafz['frameLoop']\n}\n\nexport const assign = (globals: AnimatedGlobals) => {\n  if (globals.to) to = globals.to\n  if (globals.now) raf.now = globals.now\n  if (globals.colors !== undefined) colors = globals.colors\n  if (globals.skipAnimation != null) skipAnimation = globals.skipAnimation\n  if (globals.createStringInterpolator)\n    createStringInterpolator = globals.createStringInterpolator\n  if (globals.requestAnimationFrame) raf.use(globals.requestAnimationFrame)\n  if (globals.batchedUpdates) raf.batchedUpdates = globals.batchedUpdates\n  if (globals.willAdvance) willAdvance = globals.willAdvance\n  if (globals.frameLoop) raf.frameLoop = globals.frameLoop\n}\n","import type {\n  FrameFn,\n  FrameUpdateFn,\n  NativeRaf,\n  Rafz,\n  Timeout,\n  Throttled,\n} from './types'\n\nexport type { FrameFn, FrameUpdateFn, Timeout, Throttled, Rafz }\n\nlet updateQueue = makeQueue<FrameUpdateFn>()\n\n/**\n * Schedule an update for next frame.\n * Your function can return `true` to repeat next frame.\n */\nexport const raf: Rafz = fn => schedule(fn, updateQueue)\n\nlet writeQueue = makeQueue<FrameFn>()\nraf.write = fn => schedule(fn, writeQueue)\n\nlet onStartQueue = makeQueue<FrameFn>()\nraf.onStart = fn => schedule(fn, onStartQueue)\n\nlet onFrameQueue = makeQueue<FrameFn>()\nraf.onFrame = fn => schedule(fn, onFrameQueue)\n\nlet onFinishQueue = makeQueue<FrameFn>()\nraf.onFinish = fn => schedule(fn, onFinishQueue)\n\nlet timeouts: Timeout[] = []\nraf.setTimeout = (handler, ms) => {\n  const time = raf.now() + ms\n  const cancel = () => {\n    const i = timeouts.findIndex(t => t.cancel == cancel)\n    if (~i) timeouts.splice(i, 1)\n    pendingCount -= ~i ? 1 : 0\n  }\n\n  const timeout: Timeout = { time, handler, cancel }\n  timeouts.splice(findTimeout(time), 0, timeout)\n  pendingCount += 1\n\n  start()\n  return timeout\n}\n\n/** Find the index where the given time is not greater. */\nconst findTimeout = (time: number) =>\n  ~(~timeouts.findIndex(t => t.time > time) || ~timeouts.length)\n\nraf.cancel = fn => {\n  onStartQueue.delete(fn)\n  onFrameQueue.delete(fn)\n  onFinishQueue.delete(fn)\n  updateQueue.delete(fn)\n  writeQueue.delete(fn)\n}\n\nraf.sync = fn => {\n  sync = true\n  raf.batchedUpdates(fn)\n  sync = false\n}\n\nraf.throttle = fn => {\n  let lastArgs: any\n  function queuedFn() {\n    try {\n      fn(...lastArgs)\n    } finally {\n      lastArgs = null\n    }\n  }\n  function throttled(...args: any) {\n    lastArgs = args\n    raf.onStart(queuedFn)\n  }\n  throttled.handler = fn\n  throttled.cancel = () => {\n    onStartQueue.delete(queuedFn)\n    lastArgs = null\n  }\n  return throttled as any\n}\n\nlet nativeRaf =\n  typeof window != 'undefined'\n    ? (window.requestAnimationFrame as NativeRaf)\n    : // eslint-disable-next-line @typescript-eslint/no-empty-function\n      () => {}\n\nraf.use = impl => (nativeRaf = impl)\nraf.now = typeof performance != 'undefined' ? () => performance.now() : Date.now\nraf.batchedUpdates = fn => fn()\nraf.catch = console.error\n\nraf.frameLoop = 'always'\n\nraf.advance = () => {\n  if (raf.frameLoop !== 'demand') {\n    console.warn(\n      'Cannot call the manual advancement of rafz whilst frameLoop is not set as demand'\n    )\n  } else {\n    update()\n  }\n}\n\n/** The most recent timestamp. */\nlet ts = -1\n\n/** The number of pending tasks  */\nlet pendingCount = 0\n\n/** When true, scheduling is disabled. */\nlet sync = false\n\nfunction schedule<T extends Function>(fn: T, queue: Queue<T>) {\n  if (sync) {\n    queue.delete(fn)\n    fn(0)\n  } else {\n    queue.add(fn)\n    start()\n  }\n}\n\nfunction start() {\n  if (ts < 0) {\n    ts = 0\n    if (raf.frameLoop !== 'demand') {\n      nativeRaf(loop)\n    }\n  }\n}\n\nfunction stop() {\n  ts = -1\n}\n\nfunction loop() {\n  if (~ts) {\n    nativeRaf(loop)\n    raf.batchedUpdates(update)\n  }\n}\n\nfunction update() {\n  const prevTs = ts\n  ts = raf.now()\n\n  // Flush timeouts whose time is up.\n  const count = findTimeout(ts)\n  if (count) {\n    eachSafely(timeouts.splice(0, count), t => t.handler())\n    pendingCount -= count\n  }\n\n  if (!pendingCount) {\n    stop()\n\n    return\n  }\n\n  onStartQueue.flush()\n  updateQueue.flush(prevTs ? Math.min(64, ts - prevTs) : 16.667)\n  onFrameQueue.flush()\n  writeQueue.flush()\n  onFinishQueue.flush()\n}\n\ninterface Queue<T extends Function = any> {\n  add: (fn: T) => void\n  delete: (fn: T) => boolean\n  flush: (arg?: any) => void\n}\n\nfunction makeQueue<T extends Function>(): Queue<T> {\n  let next = new Set<T>()\n  let current = next\n  return {\n    add(fn) {\n      pendingCount += current == next && !next.has(fn) ? 1 : 0\n      next.add(fn)\n    },\n    delete(fn) {\n      pendingCount -= current == next && next.has(fn) ? 1 : 0\n      return next.delete(fn)\n    },\n    flush(arg) {\n      if (current.size) {\n        next = new Set()\n        pendingCount -= current.size\n        eachSafely(current, fn => fn(arg) && next.add(fn))\n        pendingCount += next.size\n        current = next\n      }\n    },\n  }\n}\n\ninterface Eachable<T> {\n  forEach(cb: (value: T) => void): void\n}\n\nfunction eachSafely<T>(values: Eachable<T>, each: (value: T) => void) {\n  values.forEach(value => {\n    try {\n      each(value)\n    } catch (e) {\n      raf.catch(e as Error)\n    }\n  })\n}\n\n/** Tree-shakable state for testing purposes */\nexport const __raf = {\n  /** The number of pending tasks */\n  count(): number {\n    return pendingCount\n  },\n  /** Whether there's a raf update loop running */\n  isRunning(): boolean {\n    return ts >= 0\n  },\n  /** Clear internal state. Never call from update loop! */\n  clear() {\n    ts = -1\n    timeouts = []\n    onStartQueue = makeQueue()\n    updateQueue = makeQueue()\n    onFrameQueue = makeQueue()\n    writeQueue = makeQueue()\n    onFinishQueue = makeQueue()\n    pendingCount = 0\n  },\n}\n","import { Lookup, Arrify, AnyFn, Any } from '@react-spring/types'\n\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nexport function noop() {}\n\nexport const defineHidden = (obj: any, key: any, value: any) =>\n  Object.defineProperty(obj, key, { value, writable: true, configurable: true })\n\ntype IsType<U> = <T>(arg: T & any) => arg is Narrow<T, U>\ntype Narrow<T, U> = [T] extends [Any] ? U : [T] extends [U] ? Extract<T, U> : U\n\ntype PlainObject<T> = Exclude<T & Lookup, Function | readonly any[]>\n\nexport const is = {\n  arr: Array.isArray as IsType<readonly any[]>,\n  obj: <T>(a: T & any): a is PlainObject<T> =>\n    !!a && a.constructor.name === 'Object',\n  fun: ((a: unknown) => typeof a === 'function') as IsType<Function>,\n  str: (a: unknown): a is string => typeof a === 'string',\n  num: (a: unknown): a is number => typeof a === 'number',\n  und: (a: unknown): a is undefined => a === undefined,\n}\n\n/** Compare animatable values */\nexport function isEqual(a: any, b: any) {\n  if (is.arr(a)) {\n    if (!is.arr(b) || a.length !== b.length) return false\n    for (let i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) return false\n    }\n    return true\n  }\n  return a === b\n}\n\ntype EachFn<Value, Key, This> = (this: This, value: Value, key: Key) => void\ntype Eachable<Value = any, Key = any, This = any> = {\n  forEach(cb: EachFn<Value, Key, This>, ctx?: This): void\n}\n\n/** Minifiable `.forEach` call */\nexport const each = <Value, Key, This>(\n  obj: Eachable<Value, Key, This>,\n  fn: EachFn<Value, Key, This>\n) => obj.forEach(fn)\n\n/** Iterate the properties of an object */\nexport function eachProp<T extends object, This>(\n  obj: T,\n  fn: (\n    this: This,\n    value: T extends any[] ? T[number] : T[keyof T],\n    key: string\n  ) => void,\n  ctx?: This\n) {\n  if (is.arr(obj)) {\n    for (let i = 0; i < obj.length; i++) {\n      fn.call(ctx as any, obj[i] as any, `${i}`)\n    }\n    return\n  }\n  for (const key in obj) {\n    if (obj.hasOwnProperty(key)) {\n      fn.call(ctx as any, obj[key] as any, key)\n    }\n  }\n}\n\nexport const toArray = <T>(a: T): Arrify<Exclude<T, void>> =>\n  is.und(a) ? [] : is.arr(a) ? (a as any) : [a]\n\n/** Copy the `queue`, then iterate it after the `queue` is cleared */\nexport function flush<P, T>(\n  queue: Map<P, T>,\n  iterator: (entry: [P, T]) => void\n): void\nexport function flush<T>(queue: Set<T>, iterator: (value: T) => void): void\nexport function flush(queue: any, iterator: any) {\n  if (queue.size) {\n    const items = Array.from(queue)\n    queue.clear()\n    each(items, iterator)\n  }\n}\n\n/** Call every function in the queue with the same arguments. */\nexport const flushCalls = <T extends AnyFn>(\n  queue: Set<T>,\n  ...args: Parameters<T>\n) => flush(queue, fn => fn(...args))\n\n// For server-side rendering: https://github.com/react-spring/zustand/pull/34\n// Deno support: https://github.com/pmndrs/zustand/issues/347\n\nexport const isSSR = () =>\n  typeof window === 'undefined' ||\n  !window.navigator ||\n  /ServerSideRendering|^Deno\\//.test(window.navigator.userAgent)\n","import { raf } from '@react-spring/rafz'\nimport * as G from './globals'\n\nexport interface OpaqueAnimation {\n  idle: boolean\n  priority: number\n  advance(dt: number): void\n}\n\n// Animations starting on the next frame\nconst startQueue = new Set<OpaqueAnimation>()\n\n// The animations being updated in the current frame, sorted by lowest\n// priority first. These two arrays are swapped at the end of each frame.\nlet currentFrame: OpaqueAnimation[] = []\nlet prevFrame: OpaqueAnimation[] = []\n\n// The priority of the currently advancing animation.\n// To protect against a race condition whenever a frame is being processed,\n// where the filtering of `animations` is corrupted with a shifting index,\n// causing animations to potentially advance 2x faster than intended.\nlet priority = 0\n\n/**\n * The frameloop executes its animations in order of lowest priority first.\n * Animations are retained until idle.\n */\nexport const frameLoop = {\n  get idle() {\n    return !startQueue.size && !currentFrame.length\n  },\n\n  /** Advance the given animation on every frame until idle. */\n  start(animation: OpaqueAnimation) {\n    // An animation can be added while a frame is being processed,\n    // unless its priority is lower than the animation last updated.\n    if (priority > animation.priority) {\n      startQueue.add(animation)\n      raf.onStart(flushStartQueue)\n    } else {\n      startSafely(animation)\n      raf(advance)\n    }\n  },\n\n  /** Advance all animations by the given time. */\n  advance,\n\n  /** Call this when an animation's priority changes. */\n  sort(animation: OpaqueAnimation) {\n    if (priority) {\n      raf.onFrame(() => frameLoop.sort(animation))\n    } else {\n      const prevIndex = currentFrame.indexOf(animation)\n      if (~prevIndex) {\n        currentFrame.splice(prevIndex, 1)\n        startUnsafely(animation)\n      }\n    }\n  },\n\n  /**\n   * Clear all animations. For testing purposes.\n   *\n   * ☠️ Never call this from within the frameloop.\n   */\n  clear() {\n    currentFrame = []\n    startQueue.clear()\n  },\n}\n\nfunction flushStartQueue() {\n  startQueue.forEach(startSafely)\n  startQueue.clear()\n  raf(advance)\n}\n\nfunction startSafely(animation: OpaqueAnimation) {\n  if (!currentFrame.includes(animation)) startUnsafely(animation)\n}\n\nfunction startUnsafely(animation: OpaqueAnimation) {\n  currentFrame.splice(\n    findIndex(currentFrame, other => other.priority > animation.priority),\n    0,\n    animation\n  )\n}\n\nfunction advance(dt: number) {\n  const nextFrame = prevFrame\n\n  for (let i = 0; i < currentFrame.length; i++) {\n    const animation = currentFrame[i]\n    priority = animation.priority\n\n    // Animations may go idle before advancing.\n    if (!animation.idle) {\n      G.willAdvance(animation)\n      animation.advance(dt)\n      if (!animation.idle) {\n        nextFrame.push(animation)\n      }\n    }\n  }\n  priority = 0\n\n  // Reuse the `currentFrame` array to avoid garbage collection.\n  prevFrame = currentFrame\n  prevFrame.length = 0\n\n  // Set `currentFrame` for next frame, so the `start` function\n  // adds new animations to the proper array.\n  currentFrame = nextFrame\n\n  return currentFrame.length > 0\n}\n\n/** Like `Array.prototype.findIndex` but returns `arr.length` instead of `-1` */\nfunction findIndex<T>(arr: T[], test: (value: T) => boolean) {\n  const index = arr.findIndex(test)\n  return index < 0 ? arr.length : index\n}\n","export const clamp = (min: number, max: number, v: number) =>\n  Math.min(Math.max(v, min), max)\n","export type ColorName = keyof typeof colors\n\n// http://www.w3.org/TR/css3-color/#svg-color\nexport const colors = {\n  transparent: 0x00000000,\n  aliceblue: 0xf0f8ffff,\n  antiquewhite: 0xfaebd7ff,\n  aqua: 0x00ffffff,\n  aquamarine: 0x7fffd4ff,\n  azure: 0xf0ffffff,\n  beige: 0xf5f5dcff,\n  bisque: 0xffe4c4ff,\n  black: 0x000000ff,\n  blanchedalmond: 0xffebcdff,\n  blue: 0x0000ffff,\n  blueviolet: 0x8a2be2ff,\n  brown: 0xa52a2aff,\n  burlywood: 0xdeb887ff,\n  burntsienna: 0xea7e5dff,\n  cadetblue: 0x5f9ea0ff,\n  chartreuse: 0x7fff00ff,\n  chocolate: 0xd2691eff,\n  coral: 0xff7f50ff,\n  cornflowerblue: 0x6495edff,\n  cornsilk: 0xfff8dcff,\n  crimson: 0xdc143cff,\n  cyan: 0x00ffffff,\n  darkblue: 0x00008bff,\n  darkcyan: 0x008b8bff,\n  darkgoldenrod: 0xb8860bff,\n  darkgray: 0xa9a9a9ff,\n  darkgreen: 0x006400ff,\n  darkgrey: 0xa9a9a9ff,\n  darkkhaki: 0xbdb76bff,\n  darkmagenta: 0x8b008bff,\n  darkolivegreen: 0x556b2fff,\n  darkorange: 0xff8c00ff,\n  darkorchid: 0x9932ccff,\n  darkred: 0x8b0000ff,\n  darksalmon: 0xe9967aff,\n  darkseagreen: 0x8fbc8fff,\n  darkslateblue: 0x483d8bff,\n  darkslategray: 0x2f4f4fff,\n  darkslategrey: 0x2f4f4fff,\n  darkturquoise: 0x00ced1ff,\n  darkviolet: 0x9400d3ff,\n  deeppink: 0xff1493ff,\n  deepskyblue: 0x00bfffff,\n  dimgray: 0x696969ff,\n  dimgrey: 0x696969ff,\n  dodgerblue: 0x1e90ffff,\n  firebrick: 0xb22222ff,\n  floralwhite: 0xfffaf0ff,\n  forestgreen: 0x228b22ff,\n  fuchsia: 0xff00ffff,\n  gainsboro: 0xdcdcdcff,\n  ghostwhite: 0xf8f8ffff,\n  gold: 0xffd700ff,\n  goldenrod: 0xdaa520ff,\n  gray: 0x808080ff,\n  green: 0x008000ff,\n  greenyellow: 0xadff2fff,\n  grey: 0x808080ff,\n  honeydew: 0xf0fff0ff,\n  hotpink: 0xff69b4ff,\n  indianred: 0xcd5c5cff,\n  indigo: 0x4b0082ff,\n  ivory: 0xfffff0ff,\n  khaki: 0xf0e68cff,\n  lavender: 0xe6e6faff,\n  lavenderblush: 0xfff0f5ff,\n  lawngreen: 0x7cfc00ff,\n  lemonchiffon: 0xfffacdff,\n  lightblue: 0xadd8e6ff,\n  lightcoral: 0xf08080ff,\n  lightcyan: 0xe0ffffff,\n  lightgoldenrodyellow: 0xfafad2ff,\n  lightgray: 0xd3d3d3ff,\n  lightgreen: 0x90ee90ff,\n  lightgrey: 0xd3d3d3ff,\n  lightpink: 0xffb6c1ff,\n  lightsalmon: 0xffa07aff,\n  lightseagreen: 0x20b2aaff,\n  lightskyblue: 0x87cefaff,\n  lightslategray: 0x778899ff,\n  lightslategrey: 0x778899ff,\n  lightsteelblue: 0xb0c4deff,\n  lightyellow: 0xffffe0ff,\n  lime: 0x00ff00ff,\n  limegreen: 0x32cd32ff,\n  linen: 0xfaf0e6ff,\n  magenta: 0xff00ffff,\n  maroon: 0x800000ff,\n  mediumaquamarine: 0x66cdaaff,\n  mediumblue: 0x0000cdff,\n  mediumorchid: 0xba55d3ff,\n  mediumpurple: 0x9370dbff,\n  mediumseagreen: 0x3cb371ff,\n  mediumslateblue: 0x7b68eeff,\n  mediumspringgreen: 0x00fa9aff,\n  mediumturquoise: 0x48d1ccff,\n  mediumvioletred: 0xc71585ff,\n  midnightblue: 0x191970ff,\n  mintcream: 0xf5fffaff,\n  mistyrose: 0xffe4e1ff,\n  moccasin: 0xffe4b5ff,\n  navajowhite: 0xffdeadff,\n  navy: 0x000080ff,\n  oldlace: 0xfdf5e6ff,\n  olive: 0x808000ff,\n  olivedrab: 0x6b8e23ff,\n  orange: 0xffa500ff,\n  orangered: 0xff4500ff,\n  orchid: 0xda70d6ff,\n  palegoldenrod: 0xeee8aaff,\n  palegreen: 0x98fb98ff,\n  paleturquoise: 0xafeeeeff,\n  palevioletred: 0xdb7093ff,\n  papayawhip: 0xffefd5ff,\n  peachpuff: 0xffdab9ff,\n  peru: 0xcd853fff,\n  pink: 0xffc0cbff,\n  plum: 0xdda0ddff,\n  powderblue: 0xb0e0e6ff,\n  purple: 0x800080ff,\n  rebeccapurple: 0x663399ff,\n  red: 0xff0000ff,\n  rosybrown: 0xbc8f8fff,\n  royalblue: 0x4169e1ff,\n  saddlebrown: 0x8b4513ff,\n  salmon: 0xfa8072ff,\n  sandybrown: 0xf4a460ff,\n  seagreen: 0x2e8b57ff,\n  seashell: 0xfff5eeff,\n  sienna: 0xa0522dff,\n  silver: 0xc0c0c0ff,\n  skyblue: 0x87ceebff,\n  slateblue: 0x6a5acdff,\n  slategray: 0x708090ff,\n  slategrey: 0x708090ff,\n  snow: 0xfffafaff,\n  springgreen: 0x00ff7fff,\n  steelblue: 0x4682b4ff,\n  tan: 0xd2b48cff,\n  teal: 0x008080ff,\n  thistle: 0xd8bfd8ff,\n  tomato: 0xff6347ff,\n  turquoise: 0x40e0d0ff,\n  violet: 0xee82eeff,\n  wheat: 0xf5deb3ff,\n  white: 0xffffffff,\n  whitesmoke: 0xf5f5f5ff,\n  yellow: 0xffff00ff,\n  yellowgreen: 0x9acd32ff,\n}\n","// const INTEGER = '[-+]?\\\\d+';\nconst NUMBER = '[-+]?\\\\d*\\\\.?\\\\d+'\nconst PERCENTAGE = NUMBER + '%'\n\nfunction call(...parts: string[]) {\n  return '\\\\(\\\\s*(' + parts.join(')\\\\s*,\\\\s*(') + ')\\\\s*\\\\)'\n}\n\nexport const rgb = new RegExp('rgb' + call(NUMBER, NUMBER, NUMBER))\nexport const rgba = new RegExp('rgba' + call(NUMBER, NUMBER, NUMBER, NUMBER))\nexport const hsl = new RegExp('hsl' + call(NUMBER, PERCENTAGE, PERCENTAGE))\nexport const hsla = new RegExp(\n  'hsla' + call(NUMBER, PERCENTAGE, PERCENTAGE, NUMBER)\n)\nexport const hex3 = /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/\nexport const hex4 =\n  /^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/\nexport const hex6 = /^#([0-9a-fA-F]{6})$/\nexport const hex8 = /^#([0-9a-fA-F]{8})$/\n","/*\nhttps://github.com/react-community/normalize-css-color\n\nBSD 3-Clause License\n\nCopyright (c) 2016, React Community\nAll rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are met:\n\n* Redistributions of source code must retain the above copyright notice, this\n  list of conditions and the following disclaimer.\n\n* Redistributions in binary form must reproduce the above copyright notice,\n  this list of conditions and the following disclaimer in the documentation\n  and/or other materials provided with the distribution.\n\n* Neither the name of the copyright holder nor the names of its\n  contributors may be used to endorse or promote products derived from\n  this software without specific prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\nAND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\nIMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\nFOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\nDAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\nSERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\nCAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\nOR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport * as matchers from './colorMatchers'\nimport * as G from './globals'\n\nexport function normalizeColor(color: number | string) {\n  let match\n\n  if (typeof color === 'number') {\n    return color >>> 0 === color && color >= 0 && color <= 0xffffffff\n      ? color\n      : null\n  }\n\n  // Ordered based on occurrences on Facebook codebase\n  if ((match = matchers.hex6.exec(color)))\n    return parseInt(match[1] + 'ff', 16) >>> 0\n\n  if (G.colors && G.colors[color] !== undefined) {\n    return G.colors[color]\n  }\n\n  if ((match = matchers.rgb.exec(color))) {\n    return (\n      ((parse255(match[1]) << 24) | // r\n        (parse255(match[2]) << 16) | // g\n        (parse255(match[3]) << 8) | // b\n        0x000000ff) >>> // a\n      0\n    )\n  }\n\n  if ((match = matchers.rgba.exec(color))) {\n    return (\n      ((parse255(match[1]) << 24) | // r\n        (parse255(match[2]) << 16) | // g\n        (parse255(match[3]) << 8) | // b\n        parse1(match[4])) >>> // a\n      0\n    )\n  }\n\n  if ((match = matchers.hex3.exec(color))) {\n    return (\n      parseInt(\n        match[1] +\n          match[1] + // r\n          match[2] +\n          match[2] + // g\n          match[3] +\n          match[3] + // b\n          'ff', // a\n        16\n      ) >>> 0\n    )\n  }\n\n  // https://drafts.csswg.org/css-color-4/#hex-notation\n  if ((match = matchers.hex8.exec(color))) return parseInt(match[1], 16) >>> 0\n\n  if ((match = matchers.hex4.exec(color))) {\n    return (\n      parseInt(\n        match[1] +\n          match[1] + // r\n          match[2] +\n          match[2] + // g\n          match[3] +\n          match[3] + // b\n          match[4] +\n          match[4], // a\n        16\n      ) >>> 0\n    )\n  }\n\n  if ((match = matchers.hsl.exec(color))) {\n    return (\n      (hslToRgb(\n        parse360(match[1]), // h\n        parsePercentage(match[2]), // s\n        parsePercentage(match[3]) // l\n      ) |\n        0x000000ff) >>> // a\n      0\n    )\n  }\n\n  if ((match = matchers.hsla.exec(color))) {\n    return (\n      (hslToRgb(\n        parse360(match[1]), // h\n        parsePercentage(match[2]), // s\n        parsePercentage(match[3]) // l\n      ) |\n        parse1(match[4])) >>> // a\n      0\n    )\n  }\n  return null\n}\n\nfunction hue2rgb(p: number, q: number, t: number) {\n  if (t < 0) t += 1\n  if (t > 1) t -= 1\n  if (t < 1 / 6) return p + (q - p) * 6 * t\n  if (t < 1 / 2) return q\n  if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6\n  return p\n}\n\nfunction hslToRgb(h: number, s: number, l: number) {\n  const q = l < 0.5 ? l * (1 + s) : l + s - l * s\n  const p = 2 * l - q\n  const r = hue2rgb(p, q, h + 1 / 3)\n  const g = hue2rgb(p, q, h)\n  const b = hue2rgb(p, q, h - 1 / 3)\n  return (\n    (Math.round(r * 255) << 24) |\n    (Math.round(g * 255) << 16) |\n    (Math.round(b * 255) << 8)\n  )\n}\n\nfunction parse255(str: string) {\n  const int = parseInt(str, 10)\n  if (int < 0) return 0\n  if (int > 255) return 255\n  return int\n}\n\nfunction parse360(str: string) {\n  const int = parseFloat(str)\n  return (((int % 360) + 360) % 360) / 360\n}\n\nfunction parse1(str: string) {\n  const num = parseFloat(str)\n  if (num < 0) return 0\n  if (num > 1) return 255\n  return Math.round(num * 255)\n}\n\nfunction parsePercentage(str: string) {\n  // parseFloat conveniently ignores the final %\n  const int = parseFloat(str)\n  if (int < 0) return 0\n  if (int > 100) return 1\n  return int / 100\n}\n","import { normalizeColor } from './normalizeColor'\n\nexport function colorToRgba(input: string) {\n  let int32Color = normalizeColor(input)\n  if (int32Color === null) return input\n  int32Color = int32Color || 0\n  const r = (int32Color & 0xff000000) >>> 24\n  const g = (int32Color & 0x00ff0000) >>> 16\n  const b = (int32Color & 0x0000ff00) >>> 8\n  const a = (int32Color & 0x000000ff) / 255\n  return `rgba(${r}, ${g}, ${b}, ${a})`\n}\n","import * as G from './globals'\nimport { is } from './helpers'\nimport {\n  Animatable,\n  InterpolatorFn,\n  EasingFunction,\n  ExtrapolateType,\n  InterpolatorConfig,\n  InterpolatorFactory,\n} from '@react-spring/types'\n\nexport const createInterpolator: InterpolatorFactory = (\n  range: readonly number[] | InterpolatorFn<any, any> | InterpolatorConfig<any>,\n  output?: readonly Animatable[],\n  extrapolate?: ExtrapolateType\n) => {\n  if (is.fun(range)) {\n    return range\n  }\n\n  if (is.arr(range)) {\n    return createInterpolator({\n      range,\n      output: output!,\n      extrapolate,\n    })\n  }\n\n  if (is.str(range.output[0])) {\n    return G.createStringInterpolator(range as any) as any\n  }\n\n  const config = range as InterpolatorConfig<number>\n  const outputRange = config.output\n  const inputRange = config.range || [0, 1]\n\n  const extrapolateLeft =\n    config.extrapolateLeft || config.extrapolate || 'extend'\n  const extrapolateRight =\n    config.extrapolateRight || config.extrapolate || 'extend'\n  const easing = config.easing || (t => t)\n\n  return (input: number) => {\n    const range = findRange(input, inputRange)\n    return interpolate(\n      input,\n      inputRange[range],\n      inputRange[range + 1],\n      outputRange[range],\n      outputRange[range + 1],\n      easing,\n      extrapolateLeft,\n      extrapolateRight,\n      config.map\n    )\n  }\n}\n\nfunction interpolate(\n  input: number,\n  inputMin: number,\n  inputMax: number,\n  outputMin: number,\n  outputMax: number,\n  easing: EasingFunction,\n  extrapolateLeft: ExtrapolateType,\n  extrapolateRight: ExtrapolateType,\n  map?: (x: number) => number\n) {\n  let result = map ? map(input) : input\n  // Extrapolate\n  if (result < inputMin) {\n    if (extrapolateLeft === 'identity') return result\n    else if (extrapolateLeft === 'clamp') result = inputMin\n  }\n  if (result > inputMax) {\n    if (extrapolateRight === 'identity') return result\n    else if (extrapolateRight === 'clamp') result = inputMax\n  }\n  if (outputMin === outputMax) return outputMin\n  if (inputMin === inputMax) return input <= inputMin ? outputMin : outputMax\n  // Input Range\n  if (inputMin === -Infinity) result = -result\n  else if (inputMax === Infinity) result = result - inputMin\n  else result = (result - inputMin) / (inputMax - inputMin)\n  // Easing\n  result = easing(result)\n  // Output Range\n  if (outputMin === -Infinity) result = -result\n  else if (outputMax === Infinity) result = result + outputMin\n  else result = result * (outputMax - outputMin) + outputMin\n  return result\n}\n\nfunction findRange(input: number, inputRange: readonly number[]) {\n  // eslint-disable-next-line no-var\n  for (var i = 1; i < inputRange.length - 1; ++i)\n    if (inputRange[i] >= input) break\n  return i - 1\n}\n","import { EasingFunction } from '@react-spring/types'\n\nimport { clamp } from './clamp'\n\nexport type Direction = 'start' | 'end'\n\ntype StepsEasing = (steps: number, direction?: Direction) => EasingFunction\n\nconst steps: StepsEasing =\n  (steps: number, direction: Direction = 'end') =>\n  (progress: number) => {\n    progress =\n      direction === 'end'\n        ? Math.min(progress, 0.999)\n        : Math.max(progress, 0.001)\n    const expanded = progress * steps\n    const rounded =\n      direction === 'end' ? Math.floor(expanded) : Math.ceil(expanded)\n\n    return clamp(0, 1, rounded / steps)\n  }\n\n/**\n * With thanks to ai easings.net\n * https://github.com/ai/easings.net/blob/master/src/easings/easingsFunctions.ts\n */\ninterface EasingDictionary {\n  linear: (t: number) => number\n  easeInQuad: (t: number) => number\n  easeOutQuad: (t: number) => number\n  easeInOutQuad: (t: number) => number\n  easeInCubic: (t: number) => number\n  easeOutCubic: (t: number) => number\n  easeInOutCubic: (t: number) => number\n  easeInQuart: (t: number) => number\n  easeOutQuart: (t: number) => number\n  easeInOutQuart: (t: number) => number\n  easeInQuint: (t: number) => number\n  easeOutQuint: (t: number) => number\n  easeInOutQuint: (t: number) => number\n  easeInSine: (t: number) => number\n  easeOutSine: (t: number) => number\n  easeInOutSine: (t: number) => number\n  easeInExpo: (t: number) => number\n  easeOutExpo: (t: number) => number\n  easeInOutExpo: (t: number) => number\n  easeInCirc: (t: number) => number\n  easeOutCirc: (t: number) => number\n  easeInOutCirc: (t: number) => number\n  easeInBack: (t: number) => number\n  easeOutBack: (t: number) => number\n  easeInOutBack: (t: number) => number\n  easeInElastic: (t: number) => number\n  easeOutElastic: (t: number) => number\n  easeInOutElastic: (t: number) => number\n  easeInBounce: (t: number) => number\n  easeOutBounce: (t: number) => number\n  easeInOutBounce: (t: number) => number\n  steps: StepsEasing\n}\n\nconst c1 = 1.70158\nconst c2 = c1 * 1.525\nconst c3 = c1 + 1\nconst c4 = (2 * Math.PI) / 3\nconst c5 = (2 * Math.PI) / 4.5\n\nconst bounceOut: EasingFunction = x => {\n  const n1 = 7.5625\n  const d1 = 2.75\n\n  if (x < 1 / d1) {\n    return n1 * x * x\n  } else if (x < 2 / d1) {\n    return n1 * (x -= 1.5 / d1) * x + 0.75\n  } else if (x < 2.5 / d1) {\n    return n1 * (x -= 2.25 / d1) * x + 0.9375\n  } else {\n    return n1 * (x -= 2.625 / d1) * x + 0.984375\n  }\n}\n\nexport const easings: EasingDictionary = {\n  linear: x => x,\n  easeInQuad: x => x * x,\n  easeOutQuad: x => 1 - (1 - x) * (1 - x),\n  easeInOutQuad: x => (x < 0.5 ? 2 * x * x : 1 - Math.pow(-2 * x + 2, 2) / 2),\n  easeInCubic: x => x * x * x,\n  easeOutCubic: x => 1 - Math.pow(1 - x, 3),\n  easeInOutCubic: x =>\n    x < 0.5 ? 4 * x * x * x : 1 - Math.pow(-2 * x + 2, 3) / 2,\n  easeInQuart: x => x * x * x * x,\n  easeOutQuart: x => 1 - Math.pow(1 - x, 4),\n  easeInOutQuart: x =>\n    x < 0.5 ? 8 * x * x * x * x : 1 - Math.pow(-2 * x + 2, 4) / 2,\n  easeInQuint: x => x * x * x * x * x,\n  easeOutQuint: x => 1 - Math.pow(1 - x, 5),\n  easeInOutQuint: x =>\n    x < 0.5 ? 16 * x * x * x * x * x : 1 - Math.pow(-2 * x + 2, 5) / 2,\n  easeInSine: x => 1 - Math.cos((x * Math.PI) / 2),\n  easeOutSine: x => Math.sin((x * Math.PI) / 2),\n  easeInOutSine: x => -(Math.cos(Math.PI * x) - 1) / 2,\n  easeInExpo: x => (x === 0 ? 0 : Math.pow(2, 10 * x - 10)),\n  easeOutExpo: x => (x === 1 ? 1 : 1 - Math.pow(2, -10 * x)),\n  easeInOutExpo: x =>\n    x === 0\n      ? 0\n      : x === 1\n      ? 1\n      : x < 0.5\n      ? Math.pow(2, 20 * x - 10) / 2\n      : (2 - Math.pow(2, -20 * x + 10)) / 2,\n  easeInCirc: x => 1 - Math.sqrt(1 - Math.pow(x, 2)),\n  easeOutCirc: x => Math.sqrt(1 - Math.pow(x - 1, 2)),\n  easeInOutCirc: x =>\n    x < 0.5\n      ? (1 - Math.sqrt(1 - Math.pow(2 * x, 2))) / 2\n      : (Math.sqrt(1 - Math.pow(-2 * x + 2, 2)) + 1) / 2,\n  easeInBack: x => c3 * x * x * x - c1 * x * x,\n  easeOutBack: x => 1 + c3 * Math.pow(x - 1, 3) + c1 * Math.pow(x - 1, 2),\n  easeInOutBack: x =>\n    x < 0.5\n      ? (Math.pow(2 * x, 2) * ((c2 + 1) * 2 * x - c2)) / 2\n      : (Math.pow(2 * x - 2, 2) * ((c2 + 1) * (x * 2 - 2) + c2) + 2) / 2,\n  easeInElastic: x =>\n    x === 0\n      ? 0\n      : x === 1\n      ? 1\n      : -Math.pow(2, 10 * x - 10) * Math.sin((x * 10 - 10.75) * c4),\n  easeOutElastic: x =>\n    x === 0\n      ? 0\n      : x === 1\n      ? 1\n      : Math.pow(2, -10 * x) * Math.sin((x * 10 - 0.75) * c4) + 1,\n  easeInOutElastic: x =>\n    x === 0\n      ? 0\n      : x === 1\n      ? 1\n      : x < 0.5\n      ? -(Math.pow(2, 20 * x - 10) * Math.sin((20 * x - 11.125) * c5)) / 2\n      : (Math.pow(2, -20 * x + 10) * Math.sin((20 * x - 11.125) * c5)) / 2 + 1,\n  easeInBounce: x => 1 - bounceOut(1 - x),\n  easeOutBounce: bounceOut,\n  easeInOutBounce: x =>\n    x < 0.5 ? (1 - bounceOut(1 - 2 * x)) / 2 : (1 + bounceOut(2 * x - 1)) / 2,\n  steps,\n} as const\n","/**\n * MIT License\n * Copyright (c) Alec Larson\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nconst $get = Symbol.for('FluidValue.get')\nconst $observers = Symbol.for('FluidValue.observers')\n\nexport {\n  FluidValue,\n  hasFluidValue,\n  getFluidValue,\n  getFluidObservers,\n  callFluidObserver,\n  callFluidObservers,\n  // Mutations\n  setFluidGetter,\n  addFluidObserver,\n  removeFluidObserver,\n}\n\n/** Returns true if `arg` can be observed. */\nconst hasFluidValue = (arg: any): arg is FluidValue => Boolean(arg && arg[$get])\n\n/**\n * Get the current value.\n * If `arg` is not observable, `arg` is returned.\n */\nconst getFluidValue: GetFluidValue = (arg: any) =>\n  arg && arg[$get] ? arg[$get]() : arg\n\n/** Get the current observer set. Never mutate it directly! */\nconst getFluidObservers: GetFluidObservers = (target: any) =>\n  target[$observers] || null\n\n/** Send an event to an observer. */\nfunction callFluidObserver<E extends FluidEvent>(\n  observer: FluidObserver<E>,\n  event: E\n): void\n\nfunction callFluidObserver(observer: any, event: FluidEvent) {\n  if (observer.eventObserved) {\n    observer.eventObserved(event)\n  } else {\n    observer(event)\n  }\n}\n\n/** Send an event to all observers. */\nfunction callFluidObservers<E extends FluidEvent>(\n  target: FluidValue<any, E>,\n  event: E\n): void\n\nfunction callFluidObservers(target: object, event: FluidEvent): void\n\nfunction callFluidObservers(target: any, event: FluidEvent) {\n  const observers: Set<FluidObserver> = target[$observers]\n  if (observers) {\n    observers.forEach(observer => {\n      callFluidObserver(observer, event)\n    })\n  }\n}\n\ntype GetFluidValue = {\n  <T, U = never>(target: T | FluidValue<U>): Exclude<T, FluidValue> | U\n}\n\ntype GetFluidObservers = {\n  <E extends FluidEvent>(target: FluidValue<any, E>): ReadonlySet<\n    FluidObserver<E>\n  > | null\n  (target: object): ReadonlySet<FluidObserver> | null\n}\n\n/** An event sent to `FluidObserver` objects. */\nexport interface FluidEvent<T = any> {\n  type: string\n  parent: FluidValue<T>\n}\n\n/**\n * Extend this class for automatic TypeScript support when passing this\n * value to `fluids`-compatible libraries.\n */\nabstract class FluidValue<T = any, E extends FluidEvent<T> = any> {\n  // @ts-expect-error (TS 4.4)\n  private [$get]: () => T\n  // @ts-expect-error (TS 4.4)\n  private [$observers]?: Set<FluidObserver<E>>\n\n  constructor(get?: () => T) {\n    if (!get && !(get = this.get)) {\n      throw Error('Unknown getter')\n    }\n    setFluidGetter(this, get)\n  }\n\n  /** Get the current value. */\n  protected get?(): T\n  /** Called after an observer is added. */\n  protected observerAdded?(count: number, observer: FluidObserver<E>): void\n  /** Called after an observer is removed. */\n  protected observerRemoved?(count: number, observer: FluidObserver<E>): void\n}\n\n/** An observer of `FluidValue` objects. */\nexport type FluidObserver<E extends FluidEvent = any> =\n  | { eventObserved(event: E): void }\n  | { (event: E): void }\n\n/** Add the `FluidValue` type to every property. */\nexport type FluidProps<T> = T extends object\n  ? { [P in keyof T]: T[P] | FluidValue<Exclude<T[P], void>> }\n  : unknown\n\n/** Remove the `FluidValue` type from every property. */\nexport type StaticProps<T extends object> = {\n  [P in keyof T]: T[P] extends FluidValue<infer U> ? U : T[P]\n}\n\n/** Define the getter called by `getFluidValue`. */\nconst setFluidGetter = (target: object, get: () => any) =>\n  setHidden(target, $get, get)\n\n/** Observe a `fluids`-compatible object. */\nfunction addFluidObserver<T, E extends FluidEvent>(\n  target: FluidValue<T, E>,\n  observer: FluidObserver<E>\n): typeof observer\n\nfunction addFluidObserver<E extends FluidEvent>(\n  target: object,\n  observer: FluidObserver<E>\n): typeof observer\n\nfunction addFluidObserver(target: any, observer: FluidObserver) {\n  if (target[$get]) {\n    let observers: Set<FluidObserver> = target[$observers]\n    if (!observers) {\n      setHidden(target, $observers, (observers = new Set()))\n    }\n    if (!observers.has(observer)) {\n      observers.add(observer)\n      if (target.observerAdded) {\n        target.observerAdded(observers.size, observer)\n      }\n    }\n  }\n  return observer\n}\n\n/** Stop observing a `fluids`-compatible object. */\nfunction removeFluidObserver<E extends FluidEvent>(\n  target: FluidValue<any, E>,\n  observer: FluidObserver<E>\n): void\n\nfunction removeFluidObserver<E extends FluidEvent>(\n  target: object,\n  observer: FluidObserver<E>\n): void\n\nfunction removeFluidObserver(target: any, observer: FluidObserver) {\n  const observers: Set<FluidObserver> = target[$observers]\n  if (observers && observers.has(observer)) {\n    const count = observers.size - 1\n    if (count) {\n      observers.delete(observer)\n    } else {\n      target[$observers] = null\n    }\n    if (target.observerRemoved) {\n      target.observerRemoved(count, observer)\n    }\n  }\n}\n\nconst setHidden = (target: any, key: any, value: any) =>\n  Object.defineProperty(target, key, {\n    value,\n    writable: true,\n    configurable: true,\n  })\n","// Problem: https://github.com/animatedjs/animated/pull/102\n// Solution: https://stackoverflow.com/questions/638565/parsing-scientific-notation-sensibly/658662\nexport const numberRegex = /[+\\-]?(?:0|[1-9]\\d*)(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g\n\n// Covers rgb, rgba, hsl, hsla\n// Taken from https://gist.github.com/olmokramer/82ccce673f86db7cda5e\nexport const colorRegex =\n  /(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\))/gi\n\n// Gets numbers with units when specified\nexport const unitRegex = new RegExp(`(${numberRegex.source})(%|[a-z]+)`, 'i')\n\n// get values of rgba string\nexport const rgbaRegex =\n  /rgba\\(([0-9\\.-]+), ([0-9\\.-]+), ([0-9\\.-]+), ([0-9\\.-]+)\\)/gi\n\n/**\n * Parse special CSS variable format into a CSS token and a fallback.\n *\n * ```\n * `var(--foo, #fff)` => [`--foo`, '#fff']\n * ```\n *\n */\nexport const cssVariableRegex =\n  /var\\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\\)/\n","import { isSSR } from './helpers'\nimport { cssVariableRegex } from './regexs'\n\n/**\n * takes a CSS variable and attempts\n * to turn it into a RGBA value\n *\n * ```\n * 'var(--white)' => 'rgba(255,255,255,1)'\n * ```\n *\n * @param input string\n * @returns string\n */\nexport const variableToRgba = (input: string): string => {\n  const [token, fallback] = parseCSSVariable(input)\n\n  if (!token || isSSR()) {\n    return input\n  }\n\n  const value = window\n    .getComputedStyle(document.documentElement)\n    .getPropertyValue(token)\n\n  if (value) {\n    /**\n     * We have a valid variable returned\n     * trim and return\n     */\n    return value.trim()\n  } else if (fallback && fallback.startsWith('--')) {\n    /**\n     * fallback is something like --my-variable\n     * so we try get property value\n     */\n    const value = window\n      .getComputedStyle(document.documentElement)\n      .getPropertyValue(fallback)\n\n    /**\n     * if it exists, return else nothing was found so just return the input\n     */\n    if (value) {\n      return value\n    } else {\n      return input\n    }\n  } else if (fallback && cssVariableRegex.test(fallback)) {\n    /**\n     * We have a fallback and it's another CSS variable\n     */\n    return variableToRgba(fallback)\n  } else if (fallback) {\n    /**\n     * We have a fallback and it's not a CSS variable\n     */\n    return fallback\n  }\n\n  /**\n   * Nothing worked so just return the input\n   * like our other FluidValue replace functions do\n   */\n  return input\n}\n\nconst parseCSSVariable = (current: string) => {\n  const match = cssVariableRegex.exec(current)\n  if (!match) return [,]\n\n  const [, token, fallback] = match\n  return [token, fallback]\n}\n","import { InterpolatorConfig } from '@react-spring/types'\n\nimport { getFluidValue } from './fluids'\nimport { createInterpolator } from './createInterpolator'\nimport { colorToRgba } from './colorToRgba'\nimport * as G from './globals'\nimport {\n  cssVariableRegex,\n  colorRegex,\n  unitRegex,\n  numberRegex,\n  rgbaRegex,\n} from './regexs'\nimport { variableToRgba } from './variableToRgba'\n\n// Covers color names (transparent, blue, etc.)\nlet namedColorRegex: RegExp\n\n// rgba requires that the r,g,b are integers.... so we want to round them,\n// but we *dont* want to round the opacity (4th column).\nconst rgbaRound = (_: any, p1: number, p2: number, p3: number, p4: number) =>\n  `rgba(${Math.round(p1)}, ${Math.round(p2)}, ${Math.round(p3)}, ${p4})`\n\n/**\n * Supports string shapes by extracting numbers so new values can be computed,\n * and recombines those values into new strings of the same shape.  Supports\n * things like:\n *\n *     \"rgba(123, 42, 99, 0.36)\"           // colors\n *     \"-45deg\"                            // values with units\n *     \"0 2px 2px 0px rgba(0, 0, 0, 0.12)\" // CSS box-shadows\n *     \"rotate(0deg) translate(2px, 3px)\"  // CSS transforms\n */\nexport const createStringInterpolator = (\n  config: InterpolatorConfig<string>\n) => {\n  if (!namedColorRegex)\n    namedColorRegex = G.colors\n      ? // match color names, ignore partial matches\n        new RegExp(`(${Object.keys(G.colors).join('|')})(?!\\\\w)`, 'g')\n      : // never match\n        /^\\b$/\n\n  // Convert colors to rgba(...)\n  const output = config.output.map(value => {\n    return getFluidValue(value)\n      .replace(cssVariableRegex, variableToRgba)\n      .replace(colorRegex, colorToRgba)\n      .replace(namedColorRegex, colorToRgba)\n  })\n\n  // Convert [\"1px 2px\", \"0px 0px\"] into [[1, 2], [0, 0]]\n  const keyframes = output.map(value => value.match(numberRegex)!.map(Number))\n\n  // Convert [\"1px 2px\", \"0px 0px\"] into [[1, 0], [2, 0]]\n  const outputRanges = keyframes[0].map((_, i) =>\n    keyframes.map(values => {\n      if (!(i in values)) {\n        throw Error('The arity of each \"output\" value must be equal')\n      }\n      return values[i]\n    })\n  )\n\n  // Create an interpolator for each animated number\n  const interpolators = outputRanges.map(output =>\n    createInterpolator({ ...config, output })\n  )\n\n  // Use the first `output` as a template for each call\n  return (input: number) => {\n    // Convert numbers to units if available (allows for [\"0\", \"100%\"])\n    const missingUnit =\n      !unitRegex.test(output[0]) &&\n      output.find(value => unitRegex.test(value))?.replace(numberRegex, '')\n\n    let i = 0\n    return output[0]\n      .replace(\n        numberRegex,\n        () => `${interpolators[i++](input)}${missingUnit || ''}`\n      )\n      .replace(rgbaRegex, rgbaRound)\n  }\n}\n","declare const console: any\n\nexport const prefix = 'react-spring: '\n\nexport const once = <TFunc extends (...args: any) => any>(fn: TFunc) => {\n  const func = fn\n  let called = false\n\n  if (typeof func != 'function') {\n    throw new TypeError(`${prefix}once requires a function parameter`)\n  }\n\n  return (...args: any) => {\n    if (!called) {\n      func(...args)\n      called = true\n    }\n  }\n}\n\nconst warnInterpolate = once(console.warn)\nexport function deprecateInterpolate() {\n  warnInterpolate(\n    `${prefix}The \"interpolate\" function is deprecated in v9 (use \"to\" instead)`\n  )\n}\n\nconst warnDirectCall = once(console.warn)\nexport function deprecateDirectCall() {\n  warnDirectCall(\n    `${prefix}Directly calling start instead of using the api object is deprecated in v9 (use \".start\" instead), this will be removed in later 0.X.0 versions`\n  )\n}\n","import * as G from './globals'\nimport { is, isSSR } from './helpers'\nimport { cssVariableRegex } from './regexs'\n\n// Not all strings can be animated (eg: {display: \"none\"})\nexport function isAnimatedString(value: unknown): value is string {\n  return (\n    is.str(value) &&\n    (value[0] == '#' ||\n      /\\d/.test(value) ||\n      // Do not identify a CSS variable as an AnimatedString if its SSR\n      (!isSSR() && cssVariableRegex.test(value)) ||\n      value in (G.colors || {}))\n  )\n}\n","import type { OnResizeCallback } from '.'\n\nlet observer: ResizeObserver | undefined\n\nconst resizeHandlers = new WeakMap<Element, Set<OnResizeCallback>>()\n\nconst handleObservation = (entries: ResizeObserverEntry[]) =>\n  entries.forEach(({ target, contentRect }) => {\n    return resizeHandlers.get(target)?.forEach(handler => handler(contentRect))\n  })\n\nexport function resizeElement(handler: OnResizeCallback, target: HTMLElement) {\n  /**\n   * If there's a resize observer in the ENV then use that too.\n   */\n  if (!observer) {\n    if (typeof ResizeObserver !== 'undefined') {\n      observer = new ResizeObserver(handleObservation)\n    }\n  }\n\n  /**\n   * Fetch the handlers for the target\n   */\n  let elementHandlers = resizeHandlers.get(target)\n\n  /**\n   * If there are no handlers create a new set for the target\n   * and then add to the map\n   */\n  if (!elementHandlers) {\n    elementHandlers = new Set()\n    resizeHandlers.set(target, elementHandlers)\n  }\n\n  /**\n   * Add the handler to the target's set\n   * and observe the target if possible.\n   */\n  elementHandlers.add(handler)\n\n  if (observer) {\n    observer.observe(target)\n  }\n\n  /**\n   * Cleanup the event handlers and potential observers.\n   */\n  return () => {\n    const elementHandlers = resizeHandlers.get(target)\n\n    if (!elementHandlers) return\n\n    elementHandlers.delete(handler)\n\n    if (!elementHandlers.size && observer) {\n      observer.unobserve(target)\n    }\n  }\n}\n","import type { OnResizeCallback } from '.'\n\nconst listeners = new Set<OnResizeCallback>()\n\nlet cleanupWindowResizeHandler: VoidFunction | undefined\n\nconst createResizeHandler = () => {\n  const handleResize = () => {\n    listeners.forEach(callback =>\n      callback({\n        width: window.innerWidth,\n        height: window.innerHeight,\n      })\n    )\n  }\n\n  window.addEventListener('resize', handleResize)\n\n  return () => {\n    window.removeEventListener('resize', handleResize)\n  }\n}\n\nexport const resizeWindow = (callback: OnResizeCallback) => {\n  listeners.add(callback)\n\n  if (!cleanupWindowResizeHandler) {\n    cleanupWindowResizeHandler = createResizeHandler()\n  }\n\n  return () => {\n    listeners.delete(callback)\n\n    if (!listeners.size && cleanupWindowResizeHandler) {\n      cleanupWindowResizeHandler()\n      cleanupWindowResizeHandler = undefined\n    }\n  }\n}\n","import { resizeElement } from './resizeElement'\nimport { resizeWindow } from './resizeWindow'\n\nexport interface OnResizeOptions {\n  container?: HTMLElement\n}\n\nexport type OnResizeCallback = (\n  rect: Pick<DOMRectReadOnly, 'width' | 'height'> &\n    Partial<Omit<DOMRectReadOnly, 'width' | 'height'>>\n) => void\n\nexport const onResize = (\n  callback: OnResizeCallback,\n  { container = document.documentElement }: OnResizeOptions = {}\n): (() => void) => {\n  if (container === document.documentElement) {\n    return resizeWindow(callback)\n  } else {\n    return resizeElement(callback, container)\n  }\n}\n","export const progress = (min: number, max: number, value: number) =>\n  max - min === 0 ? 1 : (value - min) / (max - min)\n","import { progress } from '../../progress'\n\nimport type { OnScrollCallback } from './index'\n\nconst SCROLL_KEYS = {\n  x: {\n    length: 'Width',\n    position: 'Left',\n  },\n  y: {\n    length: 'Height',\n    position: 'Top',\n  },\n}\n\n/**\n * Whilst user's may not need the scrollLength, it's easier to return\n * the whole state we're storing and let them pick what they want.\n */\nexport interface ScrollAxis {\n  current: number\n  progress: number\n  scrollLength: number\n}\n\nexport interface ScrollInfo {\n  time: number\n  x: ScrollAxis\n  y: ScrollAxis\n}\n\n/**\n * Why use a class? More extensible in the future.\n */\nexport class ScrollHandler {\n  protected callback: OnScrollCallback\n  protected container: HTMLElement\n  protected info: ScrollInfo\n\n  constructor(callback: OnScrollCallback, container: HTMLElement) {\n    this.callback = callback\n    this.container = container\n\n    this.info = {\n      time: 0,\n      x: this.createAxis(),\n      y: this.createAxis(),\n    }\n  }\n\n  private createAxis = (): ScrollAxis => ({\n    current: 0,\n    progress: 0,\n    scrollLength: 0,\n  })\n\n  private updateAxis = (axisName: keyof Pick<ScrollInfo, 'x' | 'y'>) => {\n    const axis = this.info[axisName]\n    const { length, position } = SCROLL_KEYS[axisName]\n\n    axis.current = this.container[`scroll${position}`]\n    axis.scrollLength =\n      this.container['scroll' + length] - this.container['client' + length]\n\n    axis.progress = progress(0, axis.scrollLength, axis.current)\n  }\n\n  private update = () => {\n    this.updateAxis('x')\n    this.updateAxis('y')\n  }\n\n  private sendEvent = () => {\n    this.callback(this.info)\n  }\n\n  advance = () => {\n    this.update()\n    this.sendEvent()\n  }\n}\n","import { raf } from '@react-spring/rafz'\nimport { onResize } from '../resize'\n\nimport { ScrollInfo, ScrollHandler } from './ScrollHandler'\n\nexport type OnScrollCallback = (info: ScrollInfo) => void\n\nexport type OnScrollOptions = {\n  /**\n   * The root container to measure against\n   */\n  container?: HTMLElement\n}\n\nconst scrollListeners = new WeakMap<Element, () => boolean>()\nconst resizeListeners = new WeakMap<Element, VoidFunction>()\nconst onScrollHandlers = new WeakMap<Element, Set<ScrollHandler>>()\n\nconst getTarget = (container: HTMLElement) =>\n  container === document.documentElement ? window : container\n\nexport const onScroll = (\n  callback: OnScrollCallback,\n  { container = document.documentElement }: OnScrollOptions = {}\n) => {\n  /**\n   * get the current handlers for the target\n   */\n  let containerHandlers = onScrollHandlers.get(container)\n\n  /**\n   * If there aren't any handlers then create a new set.\n   */\n  if (!containerHandlers) {\n    containerHandlers = new Set()\n    onScrollHandlers.set(container, containerHandlers)\n  }\n\n  /**\n   * Create a new ScrollHandler class and add it to the set.\n   */\n  const containerHandler = new ScrollHandler(callback, container)\n  containerHandlers.add(containerHandler)\n\n  /**\n   * If there are no scrollListeners then we need to make them\n   */\n  if (!scrollListeners.has(container)) {\n    /**\n     * Return true so RAFZ continues to run it\n     */\n    const listener = () => {\n      containerHandlers?.forEach(handler => handler.advance())\n      return true\n    }\n\n    scrollListeners.set(container, listener)\n\n    const target = getTarget(container)\n\n    /**\n     * Add resize handlers so we can correctly calculate the\n     * scroll position on changes\n     */\n    window.addEventListener('resize', listener, { passive: true })\n\n    if (container !== document.documentElement) {\n      resizeListeners.set(container, onResize(listener, { container }))\n    }\n\n    /**\n     * Add the actual scroll listener\n     */\n    target.addEventListener('scroll', listener, { passive: true })\n  }\n\n  /**\n   * Start animation loop\n   */\n  const animateScroll = scrollListeners.get(container)!\n  raf(animateScroll)\n\n  return () => {\n    /**\n     * Clear it on cleanup\n     */\n    raf.cancel(animateScroll)\n\n    /**\n     * Check if we even have any handlers for this container.\n     */\n    const containerHandlers = onScrollHandlers.get(container)\n    if (!containerHandlers) return\n\n    containerHandlers.delete(containerHandler)\n\n    if (containerHandlers.size) return\n\n    /**\n     * If no more handlers, remove the scroll listener too.\n     */\n    const listener = scrollListeners.get(container)\n    scrollListeners.delete(container)\n\n    if (listener) {\n      getTarget(container).removeEventListener('scroll', listener)\n      window.removeEventListener('resize', listener)\n\n      resizeListeners.get(container)?.()\n    }\n  }\n}\n","import { useRef } from 'react'\n\ntype Init<T> = () => T\n\n/**\n * Creates a constant value over the lifecycle of a component.\n */\nexport function useConstant<T>(init: Init<T>) {\n  const ref = useRef<T | null>(null)\n\n  if (ref.current === null) {\n    ref.current = init()\n  }\n\n  return ref.current\n}\n","import { useState } from 'react'\nimport { useIsMounted } from './useIsMounted'\n\n/** Return a function that re-renders this component, if still mounted */\nexport function useForceUpdate() {\n  const update = useState<any>()[1]\n  const isMounted = useIsMounted()\n  return () => {\n    if (isMounted.current) {\n      update(Math.random())\n    }\n  }\n}\n","import { useRef } from 'react'\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect'\n\nexport const useIsMounted = () => {\n  const isMounted = useRef(false)\n  useIsomorphicLayoutEffect(() => {\n    isMounted.current = true\n\n    return () => {\n      isMounted.current = false\n    }\n  }, [])\n\n  return isMounted\n}\n","import { useEffect, useLayoutEffect } from 'react'\n\nimport { isSSR } from '../helpers'\n\n/**\n * Use this to read layout from the DOM and synchronously\n * re-render if the isSSR returns true. Updates scheduled\n * inside `useIsomorphicLayoutEffect` will be flushed\n * synchronously in the browser, before the browser has\n * a chance to paint.\n */\nexport const useIsomorphicLayoutEffect = isSSR() ? useEffect : useLayoutEffect\n","import { useEffect, useRef, useState } from 'react'\n\ntype Cache<T> = {\n  inputs?: any[]\n  result?: T\n}\n\n// TODO: remove once merged (https://github.com/alexreardon/use-memo-one/pull/10)\nexport function useMemoOne<T>(getResult: () => T, inputs?: any[]): T {\n  const [initial] = useState(\n    (): Cache<T> => ({\n      inputs,\n      result: getResult(),\n    })\n  )\n\n  const committed = useRef<Cache<T>>()\n  const prevCache = committed.current\n\n  let cache = prevCache\n  if (cache) {\n    const useCache = Boolean(\n      inputs && cache.inputs && areInputsEqual(inputs, cache.inputs)\n    )\n    if (!useCache) {\n      cache = {\n        inputs,\n        result: getResult(),\n      }\n    }\n  } else {\n    cache = initial\n  }\n\n  useEffect(() => {\n    committed.current = cache\n    if (prevCache == initial) {\n      initial.inputs = initial.result = undefined\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [cache])\n\n  return cache.result!\n}\n\nfunction areInputsEqual(next: any[], prev: any[]) {\n  if (next.length !== prev.length) {\n    return false\n  }\n  for (let i = 0; i < next.length; i++) {\n    if (next[i] !== prev[i]) {\n      return false\n    }\n  }\n  return true\n}\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, EffectCallback } from 'react'\n\nexport const useOnce = (effect: EffectCallback) => useEffect(effect, emptyDeps)\n\nconst emptyDeps: any[] = []\n","import { useEffect, useRef } from 'react'\n\n/** Use a value from the previous render */\nexport function usePrev<T>(value: T): T | undefined {\n  const prevRef = useRef<any>()\n  useEffect(() => {\n    prevRef.current = value\n  })\n  return prevRef.current\n}\n","import { useState } from 'react'\n\nimport { assign } from '../globals'\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect'\n\n/**\n * Returns `boolean` or `null`, used to automatically\n * set skipAnimations to the value of the user's\n * `prefers-reduced-motion` query.\n *\n * The return value, post-effect, is the value of their prefered setting\n */\nexport const useReducedMotion = () => {\n  const [reducedMotion, setReducedMotion] = useState<boolean | null>(null)\n\n  useIsomorphicLayoutEffect(() => {\n    const mql = window.matchMedia('(prefers-reduced-motion)')\n\n    const handleMediaChange = (e: MediaQueryListEvent | MediaQueryList) => {\n      setReducedMotion(e.matches)\n\n      assign({\n        skipAnimation: e.matches,\n      })\n    }\n\n    handleMediaChange(mql)\n\n    mql.addEventListener('change', handleMediaChange)\n\n    return () => {\n      mql.removeEventListener('change', handleMediaChange)\n    }\n  }, [])\n\n  return reducedMotion\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}